<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Little Manual of API Design</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="dirtysalt" />
<link rel="shortcut icon" href="/themes/favicon.ico" /><link rel="stylesheet" type="text/css" href="/themes/simple.css"/></head>
<body>
<div id="content">
<h1 class="title">The Little Manual of API Design</h1>
<p>
<a href="https://people.mpi-inf.mpg.de/~jblanche/api-design.pdf">https://people.mpi-inf.mpg.de/~jblanche/api-design.pdf</a>
</p>

<ul class="org-ul">
<li>Characteristics of Good APIs 好的API特点
<ul class="org-ul">
<li>Easy to learn and memorize 容易学习和记忆</li>
<li>Leads to readable code 产生可读代码</li>
<li>Hard to misuse 很难误用</li>
<li>Easy to extend 容易扩展</li>
<li>Complete 完备性</li>
</ul></li>

<li>The Design Process API设计过程
<ul class="org-ul">
<li>Know the requirements 了解需求</li>
<li>Write use cases before you write any other code 在编写代码前编写用例</li>
<li>Look for similar APis in the same library 参考相似的API，了解背景，取精华其糟粕</li>
<li>Define the API before you implement it 在实现前先定义</li>
<li>Have you peers review your API 同事评议你的API设计</li>
<li>Write several examples against the API 用自己设计的API编写几个例子看看</li>
<li>Prepare for extensions 为扩展做准备</li>
<li>Don't publish internal APIs without review 在评议之前先不要发布内部API</li>
<li>When in doubt, leave it out. 如果有什么不确定的话，先不要设设计出来
<ul class="org-ul">
<li>Functionality, classes, methods, parameters, etc.</li>
<li>You can always add, but you can never remove</li>
</ul></li>
</ul></li>

<li>Design Guidelines API设计准则
<ul class="org-ul">
<li>Choose self-explanatory names and signatures 自解释的名字</li>
<li>Choose unambiguous names for related things 给相关事物取名一定要消除歧义</li>
<li>Beware of false consistency. 虚假一致性
<ul class="org-ul">
<li>两个API从语义上相似，但是如果底层代价或者是调用方式存在很大差异的话，</li>
<li>需要在API设计上将这些反应出来，让使用者意识到这种差异</li>
</ul></li>
<li>Avoid abbreviations 避免过度缩写</li>
<li>Prefer specific names to general names. 使用更加准确的命名</li>
<li>Don't be a slave of an underlying API's naming practices. 不要被底层API的命名规则限制和约束</li>
<li>Choose good defaults 选择好的默认值</li>
<li>Aoivd making your APIs overly clever 不要让API过度智能（产生难以解释的副作用）</li>
<li>Pay attentions to edge cases 验证极端测试用例</li>
<li>Be careful when defining virtual APIs 是否有必要设计成为虚函数</li>
<li>Strive for property-based APIs 尽量设计成基于属性的API</li>
<li>The best API is no API 少做决定，少写API</li>
</ul></li>
</ul>
</div>
</body>
</html>
