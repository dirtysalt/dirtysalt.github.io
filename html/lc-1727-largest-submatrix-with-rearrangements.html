<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LC 1727. 重新排列后的最大子矩阵</title>
<meta name="author" content="dirtysalt" />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="/themes/favicon.ico" /><link rel="stylesheet" type="text/css" href="/themes/simple.css"/></head>
<body>
<div id="content" class="content">
<h1 class="title">LC 1727. 重新排列后的最大子矩阵</h1>
<p>
<a href="https://leetcode-cn.com/problems/largest-submatrix-with-rearrangements/">https://leetcode-cn.com/problems/largest-submatrix-with-rearrangements/</a>
</p>

<p>
这么简单的题目愣没有想出来，看了提示1 ”For each column, find the number of consecutive ones ending at each position.” 才有点思路。
</p>

<p>
这题正确的想法是，假设矩阵的ending row在i上的话，那么每个列的最大高度是多少，然后计算出所有可能矩阵的最大面积。
</p>

<div class="org-src-container">
<pre class="src src-Python">
class Solution:
    def largestSubmatrix(self, matrix: List[List[int]]) -&gt; int:
        n, m = len(matrix), len(matrix[0])
        hs = [0] * m
        ans = 0
        for i in range(n):
            for j in range(m):
                if matrix[i][j] == 1:
                    hs[j] += 1
                else:
                    hs[j] = 0

            tmp = hs.copy()
            tmp.sort(reverse=True)
            for j in range(m):
                area = (j + 1) * tmp[j]
                ans = max(ans, area)

        return ans

</pre>
</div>
</div>
</body>
</html>
