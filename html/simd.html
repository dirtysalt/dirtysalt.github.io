<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>SIMD</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="dirtysalt" />
<link rel="shortcut icon" href="/themes/favicon.ico" /><link rel="stylesheet" type="text/css" href="/themes/simple.css"/></head>
<body>
<div id="content">
<h1 class="title">SIMD</h1>
<p>
<a href="https://software.intel.com/en-us/articles/intel-sdm">https://software.intel.com/en-us/articles/intel-sdm</a>
</p>

<p>
<a href="https://software.intel.com/sites/landingpage/IntrinsicsGuide/">https://software.intel.com/sites/landingpage/IntrinsicsGuide/</a>
</p>

<p>
<a href="https://acl.inf.ethz.ch/teaching/fastcode/2021/">https://acl.inf.ethz.ch/teaching/fastcode/2021/</a>
</p>

<p>
指令名称里面有许多缩写，根据缩写可以更快地找到自己想要的指令：
</p>

<p>
types:
</p>
<ul class="org-ul">
<li>pd(packed double precision)
</li>
<li>ps(packed single precision)
</li>
<li>epi32(packed 32bit integer)
</li>
<li>si128(128bit integer)
</li>
<li>ss/sd(scalar single/doubble precision float)
<ul class="org-ul">
<li>只处理low memory的单个元素
</li>
<li>single slot.
</li>
</ul>
</li>
</ul>

<p>
operations:
</p>
<ul class="org-ul">
<li>cmp/add/sub/and/or: 基本操作
</li>
<li>madd: multiply + add
</li>
<li>movemask：将多个数据的最高位放在一起当做mask使用
</li>
<li>loadu/storeu: 非对齐方式的载入和存储
</li>
<li>load/store: 对齐方式的载入和存储
</li>
</ul>

<p>
使用SIMD大约几种方式：
</p>
<ul class="org-ul">
<li>使用vectorized库
</li>
<li>靠编译器进行自动优化
</li>
<li>intrinsics 类似函数调用
</li>
<li>write assembly 似乎没有什么必要
</li>
</ul>

<p>
使用intrinsics的几个头文件
</p>
<ul class="org-ul">
<li>SSE: xmmintrin.h
</li>
<li>SSE2: emmintrin.h
</li>
<li>SSE3: pmmintrin.h
</li>
<li>SSSE3: tmmintrin.h
</li>
<li>SSE4: smmintrin.h &amp; nmmintrin.h
</li>
</ul>

<p>
intrinsics指令分为这么几类：
</p>
<ul class="org-ul">
<li>native inst: 对应一条汇编
<ul class="org-ul">
<li>_mm_load_ps
</li>
<li>_mm_add_ps
</li>
<li>_mm_mul_ps
</li>
</ul>
</li>
<li>multi insts: 对应多条汇编
<ul class="org-ul">
<li>_mm_set_ps
</li>
<li>_mm_set1_ps
</li>
</ul>
</li>
<li>宏和辅助函数
<ul class="org-ul">
<li>_MM_TRANSPOSE4_PS()
</li>
<li>_MM_SHUFFLE()
</li>
</ul>
</li>
</ul>
</div>
</body>
</html>
