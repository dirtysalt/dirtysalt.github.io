<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LC 2513. 最小化两个数组中的最大值</title>
<meta name="author" content="dirtysalt" />
<meta name="generator" content="Org Mode" />
<link rel="shortcut icon" href="/themes/favicon.ico" /><link rel="stylesheet" type="text/css" href="/themes/simple.css"/></head>
<body>
<div id="content" class="content">
<h1 class="title">LC 2513. 最小化两个数组中的最大值</h1>
<p>
<a href="https://leetcode.cn/problems/minimize-the-maximum-of-two-arrays/">https://leetcode.cn/problems/minimize-the-maximum-of-two-arrays/</a>
</p>

<p>
这题初看起来不怎么难，但是可让我想了好长时间，把这个思路理顺了之后就还好。可见清晰通畅的思路是多么地重要，即使知道框架但是没有清晰的思路，写起来也会是相当纠结的。
</p>

<p>
这题总体的框架就是二分，二分的上限是 `2*(uniqueCount1 + uniqueCount2)` 因为divisor最小就是2，如果两个divisor都是2的话，那么只需要取所有的奇数就行。
</p>

<p>
主体就是怎么写这个二分，假设最大的数是k：
</p>
<ul class="org-ul">
<li>那么可以同时被group1/2使用的数量是 `a = k - k / divisor1 - k / divisor2 + k / lcm`</li>
<li>只能被group1使用的数量则是 `b = (k - k / divisor1) - a`</li>
<li>只能被group2使用的数量则是 `c = (k - k / divisor1) - a`</li>
<li>分配的时候我们优先满足group1, 并且优先使用 "只能被group1使用的数"，如果不满足条件就返回false: `(b + a) &lt; uniqueCount1`</li>
<li>剩余的数量在和 "只能被group2使用的数" 累加，如果不满足条件就返回false。</li>
<li>注意这里剩余的数量中，我们只能选择 "可以同时被group1/2使用的数": `min(a, (b+a) - uniqueCount1) + c &lt; uniqueCount2`</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-def-class">class</span> <span class="org-py-class-name">Solution</span>:
    <span class="org-py-def-class">def</span> <span class="org-function-name">minimizeSet</span>(<span class="org-py-object-reference">self</span>, divisor1: <span class="org-py-builtins">int</span>, divisor2: <span class="org-py-builtins">int</span>, uniqueCnt1: <span class="org-py-builtins">int</span>, uniqueCnt2: <span class="org-py-builtins">int</span>) -&gt; <span class="org-py-builtins">int</span>:
        <span class="org-py-def-class">def</span> <span class="org-function-name">GCD</span>(a, b):
            <span class="org-keyword">while</span> b != <span class="org-py-number">0</span>:
                <span class="org-py-variable-name">a</span>, <span class="org-py-variable-name">b</span> = b, a % b
            <span class="org-keyword">return</span> a

        <span class="org-py-def-class">def</span> <span class="org-function-name">LCM</span>(a, b):
            <span class="org-keyword">return</span> a * b // GCD(a, b)

        <span class="org-py-def-class">def</span> <span class="org-function-name">test</span>(k):
            <span class="org-py-variable-name">lcm</span> = LCM(divisor1, divisor2)
            <span class="org-comment"># be used to g1 and g2 both</span>
            <span class="org-py-variable-name">a</span> = k - k // divisor1 - k // divisor2 + k // lcm
            <span class="org-comment"># only to g1</span>
            <span class="org-py-variable-name">b</span> = (k - k // divisor1) - a
            <span class="org-comment"># only to g2</span>
            <span class="org-py-variable-name">c</span> = (k - k // divisor2) - a

            <span class="org-keyword">if</span> (b + a) &lt; uniqueCnt1: <span class="org-keyword">return</span> <span class="org-py-pseudo-keyword">False</span>
            <span class="org-py-variable-name">r</span> = <span class="org-py-builtins">min</span>(a, (b + a) - uniqueCnt1)
            <span class="org-keyword">if</span> (r + c) &lt; uniqueCnt2: <span class="org-keyword">return</span> <span class="org-py-pseudo-keyword">False</span>
            <span class="org-keyword">return</span> <span class="org-py-pseudo-keyword">True</span>

        <span class="org-py-variable-name">s</span>, <span class="org-py-variable-name">e</span> = <span class="org-py-number">1</span>, (uniqueCnt1 + uniqueCnt2) * <span class="org-py-number">2</span>
        <span class="org-keyword">while</span> s &lt;= e:
            <span class="org-py-variable-name">m</span> = (s + e) // <span class="org-py-number">2</span>
            <span class="org-keyword">if</span> test(m):
                <span class="org-py-variable-name">e</span> = m - <span class="org-py-number">1</span>
            <span class="org-keyword">else</span>:
                <span class="org-py-variable-name">s</span> = m + <span class="org-py-number">1</span>
        <span class="org-keyword">return</span> s
</pre>
</div>
</div>
<div id="content"><!-- DISQUS BEGIN --><div id="disqus_thread"></div><script>/***  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/var disqus_config = function () {this.page.url = 'https://dirtysalt.github.io/html/lc-2513-minimize-the-maximum-of-two-arrays.html';this.page.identifier = 'lc-2513-minimize-the-maximum-of-two-arrays.html';};(function() {var d = document, s = d.createElement('script');s.src = 'https://dirlt.disqus.com/embed.js';s.setAttribute('data-timestamp', +new Date());(d.head || d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><!-- DISQUS END --></div></body>
</html>
