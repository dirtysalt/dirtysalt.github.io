# Chapter 1: 恐怖谷效应：渲染人类灵魂的挑战

在计算机图形的世界里，没有什么比描绘人类更具挑战性了。这并非偶然，而是我们数百万年进化的结果。我们的大脑拥有专门的系统，能够敏锐地捕捉模式、识别面孔，并推断出他人的情感和意图。想象一下，远古的穴居人必须迅速判断一个陌生人是友善还是怀有杀意，这种生存本能塑造了我们对人脸无与伦比的精细期望。因此，当计算机图形试图复制人脸时，哪怕是最微小的瑕疵，我们也能立刻察觉，尤其那些源于技术局限性的不完美，常常将我们推向所谓的“恐怖谷”。

要捕捉一个活生生的人，需要极其先进的专用硬件。艺术家们会将人置于一个巨大的捕捉球体中，数十台高分辨率、高帧率的摄像机环绕四周，记录下他们一系列的动作。然而，真正的挑战在于捕捉人脸的细微之处。我们的面部肌肉、肌腱和脂肪如何协同工作，才能展现出千变万化的表情？这不仅仅是脸部形状的问题，更是其整个运动范围的复杂性。

数据捕捉只是冰山一角。渲染头发就是另一个令人头疼的难题。我们深知物理定律，如果能模拟每一根头发与光线的互动，那将是完美的，但计算量将是天文数字，慢上亿万倍。因此，图形工程师们必须寻找巧妙的近似算法，在不计算每一根发丝与每一束光线交互的情况下，捕捉到头发在渲染和像素上的整体效果。

更深层次的挑战在于皮肤。我们通常认为皮肤是不透明的，但实际上，光线会穿透它。光线穿透皮肤的方式对我们的外观有着巨大的影响。这就是为什么你永远无法通过给人体模型上色来使其看起来像真人一样逼真——它只是一个实心表面，缺乏那种光线在皮肤下散射的细节。皮肤的油性会产生独特而复杂的反射，而部分光线被吸收并穿透皮肤，则创造出我们人类能够感知的、赋予面孔生命力的纹理。

所有这些，都必须考虑到构成细微表情的每一块肌肉：眼睛微妙的眯起，微笑的初步形成，甚至是一个看似微笑却深藏悲伤的表情。人类面孔的微妙之处，比如真诚的笑容与虚假的笑容之间的差异，都需要被精确捕捉。当我们观察一张人脸时，我们能够解读这些复杂的情感。而计算机图形，则需要在实时渲染中重现这一切。

这无疑是极其困难的。要正确地渲染人脸，需要几十种不同的系统和图形方面的相互作用。只要其中任何一个环节出错，我们的目光就会被立刻吸引过去，并将这个形象归入“恐怖谷”的范畴，令人感到不安和不适。这正是计算机图形领域最宏伟也最艰巨的挑战之一。

# Chapter 2: 编程启蒙与Epic的诞生

在蒂姆·斯威尼的成长岁月里，他周围的人们并非只顾社交，许多人都在认真投入到各种项目中。那是一个充满活力的环境，每个人似乎都带着创业精神，拥有自己的“副业”，无论是帮邻居修剪草坪还是清扫落叶，都在实践中学习并赚取零花钱。蒂姆自己也沉浸在编程的世界里，不断学习和创造。在正式向世界发布游戏之前，他常常邀请邻居们来家里试玩他的作品，有时他们会惊叹不已，有时则不以为然，但这种自由探索和有机学习的氛围，在他看来，是美国体验中至关重要的一部分，而他担忧这种体验正随着社会变得过度保护而逐渐消逝。

蒂姆与游戏的关系有些特别，他的真正抱负始终是编写出酷炫的程序，编程带给他的乐趣超越了世间万物。他最早的两段游戏经历对他影响深远：一是雅达利2600上的《Adventure》，这款游戏虽然画面简单，只是一个在屏幕上移动的点，却能让玩家拿起剑、与龙搏斗、入侵城堡、解开谜题，极大地激发了他的想象力；二是文字冒险游戏《Zork》，它没有图形，全靠文字描述构建世界，玩家通过输入“向北走”或“拿起剑”等命令来探索。这两款游戏让他意识到，游戏不仅是娱乐，更是编程的绝佳载体。他开始学习如何让角色在屏幕上移动，如何构建设计工具来创建和保存城堡，并从中领悟到游戏开发工具与游戏本身是分离的，而更强大的工具能释放出无限的创造力。他沉迷于学习各种编程技术，包括如何解析文本命令，这让他兴奋不已。他坦言，直到《堡垒之夜》问世之前，他玩游戏的主要目的都是为了学习其背后的技术，甚至会逐像素地观察《德军总部》和《毁灭战士》的运行机制，将其视为一场宏大的解谜游戏。

1991年，蒂姆·斯威尼创立了Epic Games，并推出了他的第一款重要游戏《ZZT》。这个项目最初的诞生过程颇为有趣。当时他刚从Apple II转向IBM PC，为了编程需要一个文本编辑器，于是他开始自己编写。当编辑器完成后，他觉得它“太无聊了”。一个突发奇想，他把光标变成了一个笑脸角色，并允许在文档中放置不同的字符，这些字符可以执行各种游戏动作：有些是墙壁，有些会杀死玩家，有些是能在屏幕上飞行的移动物体。就这样，一个普通的文本编辑器逐渐演变成了一个小型的游戏编辑器。他投入大量时间构建编辑器和一套原始的游戏对象（大约二三十种），足以创造出引人入胜的游戏，又不会让玩家感到混乱。他围绕着一系列相互连接的“板面”构建了一个完整的游戏世界，这便是《ZZT》。

为了测试游戏效果，蒂姆做了一个实验：他邀请邻居们，包括大人和小孩，坐下来玩他制作的游戏，并强迫自己不提供任何指导，只为观察他们能否自行探索和理解。他仔细记录下玩家们卡壳的地方、他们享受的瞬间以及感到无聊的时刻，然后反复打磨游戏。当他觉得游戏足够好时，便将其发布到当时的公告板系统（BBS）上。在互联网尚未普及的年代，BBS是软件传播的主要途径，用户们会争相上传新文件以获取“声望”，这使得《ZZT》迅速传播开来。蒂姆采用了“共享软件”模式，他发布了三部曲中的第一部免费版，并附上了父母的邮寄地址，邀请玩家寄来30美元购买后续两部。令他惊喜的是，几天之内支票便开始源源不断地寄来，每天三四笔订单，让他这个20岁的年轻人每天能赚100美元，感觉自己“一夜暴富”。

对他而言，金钱始终只是实现酷炫事物的工具，拥有足够的资金去追求梦想才是关键。然而，真正让他感到不可思议的是，全国乃至全世界的人都在玩他这个“小屁孩”在本地公告板上发布的游戏。软件的这种自发传播能力是机械设备无法比拟的，这让他意识到数字业务的潜力是无限的。他看到微软这样的巨头，也相信如果Epic能做出足够好的游戏，也能达到同样的成就。他坚信，在数字时代，任何人只要能创造出足够优秀的产品，就能触及全球，建立下一个微软、Meta、苹果、谷歌或Epic Games。

《ZZT》的成功也带来了许多深刻的启示。蒂姆不仅发布了游戏，还同时发布了游戏编辑器。他将自己用来构建《ZZT》世界的工具也分享给了所有玩家。三十年后，他仍然会在游戏行业活动中遇到那些从小玩着《ZZT》长大的成年人，这让他深感自豪。因为《ZZT》让每个人都能成为创造者，它不仅有板面编辑器，还有一个简单的脚本语言，让玩家也能学习编程。这奠定了Epic的一个核心原则：公司的使命不仅是创造卓越的娱乐产品，更是要打造卓越的工具，并与所有人分享这些工具，让他们也能创造出属于自己的精彩作品。几年后，当他们开发虚幻引擎时，这种“我们既开发游戏又开发工具并广泛分享”的理念，成为了Epic取得巨大成功的关键，也是公司能够经受住游戏行业残酷起伏、长期生存下来的根本原因。无论是引擎为公司提供资金，还是游戏为公司提供资金，这种服务于创作者和玩家的双重策略，都让Epic得以在每一次经济低谷中幸存下来，并成为其企业文化中不可动摇的基石。

在90年代，互联网的诞生也为数字传播带来了革命性的变化。最初，互联网是美国国防部的一个秘密研究项目ARPANET，后来逐渐向大学开放。但对于普通消费者来说，上网需要通过调制解调器（Modem），它通过电话线拨号连接，以极慢的速度（比如300波特，每秒30个字符）传输数据。人们通常连接到本地的公告板系统（BBS），这些BBS通常由个人运营，一台或两台电脑放在厨房里，服务着几百个用户。由于电话线有限，BBS常常占线，但它们孕育了各种社区，从编程爱好者到新闻事件讨论，甚至还有分享盗版Apple II游戏的“海盗社区”。这些社区虽然小众，却充满活力。直到90年代后期，大学里培育的互联网才开始向公众开放，世界瞬间变得生机勃勃，触及全球受众变得前所未有的容易。

Epic最初通过数字分发共享软件游戏，但随着《德军总部》、《毁灭战士》和《虚幻》等3D游戏的兴起，为了触及更广大的受众，他们不得不转向实体零售店，与发行商合作，将游戏装入光盘盒中销售。然而，世界又开始向数字分发回归。最初的数字转型充满了盗版，许多游戏销量只有十万份，却有两百万用户。直到Steam的出现，它通过提供便捷的数字分发服务，成功地将大部分玩家从盗版引向了正版。其他平台也纷纷效仿，早期的数字游戏产业由此成形。蒂姆认为，盗版在某种程度上也推动了创新，因为当人们真正从游戏中获得价值时，他们是愿意付费的，只要购买过程足够便捷。

# Chapter 3: 从盗版浪潮到虚幻引擎的诞生：Epic的3D冒险

故事从一个有趣的悖论开始：在数字发行尚未成熟的年代，一款游戏可能只卖出十万份，却拥有两百万用户，因为绝大多数人都选择了盗版。直到Steam的出现，它以其便捷的数字发行模式，成功地将玩家从盗版引向了正版，开启了早期数字产业的序幕。

对于那些在90年代挣扎的独立游戏开发者，蒂姆·斯威尼分享了他的宝贵经验。Epic Games成功的秘诀之一，就是始终致力于创造与众不同、独一无二的产品，并专注于满足小众群体的需求，而非与那些早已根深蒂固的游戏巨头在全球市场正面竞争。在那个年代，像艺电和动视这样的大发行商拥有庞大的零售分销网络，新公司几乎没有机会。Epic的独特之处在于其“共享软件”模式——通过免费发布游戏的第一章，他们能够触达比大型竞争对手更广阔的受众，这正是后来“免费游玩”模式的雏形。蒂姆强调，降低玩家进入游戏的门槛，让游戏易于上手且充满乐趣，是至关重要的。

蒂姆回忆起《ZZT》的成功，这款游戏虽然画面简陋，完全由文本字符构成，却因其独特的编辑器而建立起了一个庞大的社区。这印证了一个重要的趋势：那些允许玩家创造内容的平台型游戏，如《Minecraft》、《Roblox》乃至后来的《堡垒之夜创意模式》，往往能获得巨大成功。他告诫今天的独立开发者，在竞争激烈的现有游戏类型中取胜难如登天，而创造前所未有的独特体验，即使是服务于一个中小型受众，也更有可能获得成功，并逐步积累资金，最终实现更大的梦想。

在个人层面，蒂姆表示，开发《ZZT》的经历绝非孤独。看到邻居的孩子们玩得不亦乐乎，收到玩家们热情洋溢的来信，都让他感到与社区紧密相连。幸运的是，创业初期几乎不需要资本，他用割草赚来的几千美元购买电脑，风险极低。当订单如潮水般涌来，玩家的赞美信件不断，蒂姆便下定决心，要全力以赴建立一家成功的公司。

然而，真正的转折点发生在《德军总部3D》和《毁灭战士》横空出世之时。这些游戏以其前所未有的3D沉浸感，彻底改变了蒂姆对游戏未来的认知。他坦言，最初被《毁灭战士》的“魔法”震撼到一度陷入沮丧，甚至放弃编程长达六个月，认为自己无法与之匹敌。但当迈克尔·阿布拉什在编程杂志上揭示了3D图形和纹理映射的底层技术后，蒂姆恍然大悟：“哦，我能做到！”

于是，Epic内部掀起了一股3D图形研究热潮。蒂姆召集了公司最优秀的2D游戏开发团队成员，包括《爵士兔》的设计师克里夫·布莱辛斯基和《Epic弹珠台》的开发者詹姆斯·施马尔茨，共同投入到3D游戏的开发中。蒂姆主动承担了3D编辑器的开发工作，克里夫成为他的第一个用户，开始设计关卡；詹姆斯则负责创作精美的3D模型。

《虚幻》的开发过程异常艰辛，耗时三年半，团队规模一度达到20人，这在当时是一个庞大的数字，几乎让Epic的财务濒临崩溃。他们无数次面临资金耗尽的危机，但凭借团队的非凡才华和坚韧意志，总能化险为夷。在开发过程中，他们不断探索并实现了多项技术突破，如动态光照、彩色动态光源、阴影投射以及体积雾效，这些技术在当时都远超行业水平，为游戏带来了前所未有的视觉体验。蒂姆深知，大多数公司可能无法承受如此巨大的压力和挑战，但正是Epic团队的纯粹天赋和不屈不挠的意志，才让《虚幻》得以诞生，并最终取得了成功。

# Chapter 4: 虚幻引擎的诞生：天才、迭代与极致优化

在游戏开发的浩瀚征程中，Epic Games的成功并非偶然，它更像是一部由非凡才华和钢铁意志共同谱写的史诗。当其他公司可能在重重挑战面前折戟沉沙时，Epic却总能凭借其团队的卓越能力，化不可能为可能。这并非源于完美的管理或充裕的资金，而是源自每一位参与者对梦想的纯粹热爱与不懈追求。

虚幻引擎的诞生，正是这种精神的集中体现。游戏开发本身就是一项独特的跨学科艺术，它要求最顶尖的艺术家、工程师和设计师紧密协作，共同编织一个数字世界。Epic的团队正是这样有机地成长起来的。由于预算有限，他们无法通过高薪从竞争对手那里挖人，只能慧眼识珠，招募那些职业生涯刚刚起步、充满潜力的天才。这些年轻人，大多没有管理经验，甚至许多人从未完整开发过一款游戏，但正是这种“白纸”状态，让他们没有条条框框的束缚，能够以全新的视角探索和创造。

在虚幻引擎的开发过程中，团队奉行着一种极致的迭代哲学。每天，他们都会编译出数个新版本，引入新功能，修复漏洞，艺术家们则同步改进他们的关卡设计。这种持续不断的反馈循环，让工具和产品以惊人的速度进化。蒂姆·斯威尼深知，迭代周期越短，产品进步的速度就越快。如果一周才进行一次迭代，那么最终产品的质量将远远落后于那些每天都在进步的团队。正是这种对速度和效率的执着，成为了Epic成功的关键魔法。

蒂姆·斯威尼本人更是这种奉献精神的缩影。在长达三年半的虚幻引擎开发期间，他的生活几乎完全围绕着工作和睡眠。他通常中午才开始工作，一直忙碌到凌晨两三点。尽管工作强度巨大，但他坚持每晚八九小时的充足睡眠，因为他深知，没有良好的休息，效率便无从谈起。编程对他而言，不仅是工作，更是一种充满能量的吸引力。每周大约60小时用于编程，5小时用于与团队协调和迭代，另外5小时处理公司事务。当时，公司内部有着清晰的分工：蒂姆负责技术和开发，而马克·雷恩则负责业务运营，包括洽谈交易、甚至刷爆信用卡来为公司筹集资金，确保引擎开发的顺利进行。

在技术选型上，蒂姆也展现了前瞻性。他从钟爱的Pascal语言起步，为了追求极致性能和利用最新的操作系统特性，在开发第二款游戏《Joel of the Jungle》时转向了C语言。当虚幻引擎项目启动时，最初是在16位Windows环境下使用C语言编写。然而，随着项目的深入，他很快意识到C++的强大之处，它能极大地简化代码结构，将复杂的代码堆栈变得更加清晰。于是，虚幻引擎的核心代码在短短一年内便迁移到了32位C++平台，这在当时是绝对的尖端技术，32位保护模式的稳定性在那个电脑经常崩溃的年代简直是“魔法”般的存在。事实证明，C++的选择是明智的，它至今仍是高性能编程领域的主导语言，能够以其强大的能力解决各种规模的问题，尽管有时需要付出“手动痛苦”的代价。

为了最大化开发效率，蒂姆对自己的工作站也进行了多次升级。最初，他使用一台经济实惠的二手486电脑和一台15英寸显示器。但随着虚幻引擎代码量的激增，他意识到必须将所有资源都投入到提升生产力上。于是，他开始投资购买顶级设备。他购置了当时市面上最大的24英寸CRT显示器，这台重达百磅的巨兽在1996年提供了1920x1200的惊人分辨率。随后，他升级到90兆赫的奔腾处理器，并为之精心优化了虚幻引擎的软件渲染器，将纹理映射代码优化到仅需6个CPU周期。当英特尔推出首款乱序执行处理器奔腾Pro时，蒂姆毫不犹豫地斥资7000美元，购买了一台配备1GB内存和200兆赫CPU的戴尔工作站，这使得编译速度提升了三倍，极大地提高了他的工作效率。

在那个还没有真正GPU的年代，虚幻引擎的开发主要依赖软件渲染。引擎分为两大部分：负责模拟和物理的玩法系统，这部分用高级C++编写，注重可维护性；以及图形渲染部分，这是性能瓶颈所在。蒂姆和他的团队面临的挑战是如何极致优化每一个像素的渲染成本。他们不断探索，将渲染一个像素所需的CPU周期从最初的12个降低到6个甚至4个。这需要对CPU底层架构有着深刻的理解，能够精确控制每一条指令的执行。这种“微观管理”机器的能力，在如今高度抽象的编程环境中已成为一种“失落的艺术”。

然而，这种对硬件底层机制的极致理解并未过时，它只是转移到了新的领域——GPU和ASIC（专用集成电路）的优化上，尤其是在机器学习和超现实实时图形应用中。虚幻引擎5中的“Nanite”虚拟化微多边形几何系统，正是这种精神的现代延续。由Epic的杰出工程师布莱恩·卡里斯（Brian Karis）耗时多年打造的Nanite，旨在高效渲染包含数十亿多边形的复杂场景。它遵循奈奎斯特采样定理，确保在任何距离下，物体都能以恰到好处的细节呈现，既能达到与真实无异的视觉效果，又不浪费计算资源。

Nanite最令人惊叹的突破在于，它巧妙地规避了GPU中对微小三角形效率低下的光栅化硬件。当三角形小到只覆盖一两个像素时，传统的GPU光栅化效率极低。布莱恩设计了一个全新的渲染管线，通过像素着色器中的光线追踪和几何体交集计算，直接处理像素，从而绕过了低效的三角形管线，实现了对微小细节的极致高效渲染。这不仅解决了近距离物体需要大量细节的挑战，也考虑到了人类视觉的焦点机制，确保在用户关注的区域呈现最高分辨率的细节，而在其他区域则进行适当简化。这种对硬件限制的深刻洞察和创新性解决方案，再次证明了Epic在游戏技术领域的领先地位。

# Chapter 5: 虚幻引擎的诞生与技术突破：从Nanite到CSG与光照

故事从一个技术难题开始。GPU中三角形光栅化器的局限性，让开发者们头疼不已。为了呈现近距离物体和人类视觉焦点区域的极致细节，需要无数微小的三角形。然而，这不仅仅是近距离的问题，人类的眼睛和注意力机制决定了哪些区域需要高分辨率，而其他区域，包括远距离的物体，则可以减少几何体和纹理信息。

蒂姆·斯威尼解释说，渲染一帧完美的画面相对容易，但要渲染一系列在运动中依然完美的画面，挑战巨大。早期的算法常常出现“跳变”（popping）现象——当三角形数量发生变化时，画面会突然抖动，严重影响沉浸感。而Nanite的魔力就在于，它能巧妙地避免所有可见的过渡，将这些变化降到人眼几乎无法察觉的程度。这背后是令人难以置信的工程学，它将超现实的模拟，包括光影的实时变化，带入现实。这种体验让人仿佛回到了当年玩《德军总部》的感觉，甚至更甚，完全沉浸其中，忘却现实世界的存在。

虚幻引擎，这个蒂姆·斯威尼在1995年做出的“疯狂赌注”，并非仅仅是一款游戏。它是一个庞大的代码和工具集合，一个巨大的软件包，旨在提供构建任何3D图形应用所需的所有功能。游戏开发者用它来制作游戏，这是其主要用途。但它的影响力远不止于此：好莱坞用它进行电影和电视制作，实时创建3D场景，进行预可视化；汽车制造商用它在制造前预览新车；建筑师用它预先审视建筑物；工业设计师也广泛应用。它提供了所有必要的3D模拟功能，不仅能创造高度逼真的3D图形，还能模拟物理效果和物体间的交互，支持从皮克斯风格到卡通渲染，再到照片级写实等多种艺术风格，甚至能模拟超逼真的人类动态和情感表达。

虚幻引擎的哲学始于《ZZT》时期，即不只为玩家制作游戏，更要为游戏开发者提供工具。这种理念在虚幻引擎开发的早期就已确立。蒂姆为像Cliff Bleszinski这样的关卡设计师和James Schmaltz这样的艺术家构建工具。当他们开始宣传游戏，并不断发布截图时，其他公司纷纷找上门来，表示他们也想开发3D游戏，但缺乏专业知识，希望授权使用Epic的3D引擎。

这成为了Epic历史上最酷的转折点之一。MicroProse公司联系了Epic的副总裁Mark Rein，表示想授权引擎。Mark Rein起初有些懵，但很快反应过来，并开玩笑说：“哦，那个引擎啊，那可非常昂贵！”这次授权，MicroProse购买了两份许可，为Epic带来了五十万美元的收入。随后，GT Interactive也授权了引擎。这些授权收入成为了Epic在长达三年半的《虚幻》游戏开发过程中至关重要的生命线。Epic从一开始就非常重视引擎业务，建立了邮件列表，让合作伙伴可以提问，所有参与游戏开发的工程师和艺术家都积极参与客户支持，因为这是公司的资金来源。这塑造了Epic的“双重精神”：既精进技术、支持游戏开发者，又开发游戏、支持玩家。

在技术挑战方面，蒂姆回忆起许多有趣的难题。早期的虚幻引擎在构建环境方面比《雷神之锤》引擎走得更远，它采用了实时编辑器中的“构造实体几何”（Constructive Solid Geometry, CSG）技术。传统的构建方式是不断添加物体，例如要建一扇门，需要添加十几个门框部件和墙壁。而CSG则允许从一堵墙中“减去”一扇门，大大简化了流程。蒂姆曾预感到这种可能性，但真正实现它却耗费了他30个小时的连续编码。在那种睡眠不足的状态下，大脑似乎能更直接地访问“底层知识”，尽管短期记忆力下降，但思维却能专注于其他问题。他基于Bruce Naylor发明的二叉空间分割树（BSP tree）数据结构，将几何体组合方式分解为14种情况，并逐一解决，尤其是那些复杂的共面多边形处理，最终成功实现了实时CSG。当他将这个工具展示给James Schmaltz时，James用三个操作就创建了一个复杂的复合物体，惊叹不已。

光照也是一个巨大的挑战。虽然物理定律已知，但直接模拟光子追踪过于耗时，需要寻找近似解。Carmack在《雷神之锤》中引入了“光照贴图”（light mapping）技术，即不计算每个像素的光照，而是在场景墙壁上每隔一英尺计算一个光照值，然后进行线性插值。虚幻引擎在此基础上进一步发展，引入了彩色光源，并利用光照贴图的特性，在“每英尺”的计算中投入更多资源，实现了火炬闪烁、水面焦散、脉冲光等复杂的动态光照效果，并创建了一个系统来将它们组合在一起。

# Chapter 6: 光影魔术与引擎进化：蒂姆·斯威尼的创新之路

故事从虚幻引擎早期对光照的探索开始。蒂姆·斯威尼回忆道，他们最初通过“线性插值”来处理光照，并以“光照贴图”作为核心技术，这不仅实现了彩色光源，更让他们意识到，由于光照贴图是按世界空间（每英尺）而非每个像素计算，因此可以承担更复杂的运算。于是，火炬的闪烁、水面反射的焦散效果、脉冲灯和闪烁灯等一系列精妙的光照效果应运而生，蒂姆还为此构建了一个能将任意数量光源复合在一起的系统。

接着，他尝试实现一个实时阴影算法：从光源向物体表面投射光线，判断是否被其他几何体阻挡。这个实时版本虽然能运行，但速度仅有每秒半帧，让蒂姆不禁感叹：“总有一天电脑会足够快，但不是今天。”于是，他转而开发了一个非实时版本，预先计算所有光照。他发现，即使预计算了物体的阴影，只要光源不动，光照仍能动态应用。这意味着，火炬闪烁时也能伴随动态阴影，这在当时计算机性能下是切实可行的。这些功能被逐步开放给艺术家，而令蒂姆惊喜的是，艺术家们总能以他意想不到的方式组合和运用这些功能，创造出远超他预期的惊艳效果。这种工程师与艺术家的奇妙结合，正如文艺复兴时期的画家们探索颜料的极限一样，是永恒的创作真理。

对光影的追求并未止步。当蒂姆看到一家芬兰硬件公司展示的体积雾截图时，他再次被震撼了。那是一个充满体积雾的房间，光线穿透雾气，在光源周围形成迷人的光晕，并随着距离衰减，彩色光源交叠，营造出一种超现实的魔幻美感。蒂姆心想：“天哪，他们竟然实现了实时体积雾，我也必须弄明白！”又是一次长达30小时的编码马拉松。他深入研究光线与雾气的相互作用，意识到这本质上是一个“线积分”问题——在一条线上累积函数值。通过复杂的数学推导，他发现这个积分可以用反正切函数来解决。然而，每像素计算依然耗时巨大，于是他再次采取了类似光照贴图的策略，每平方米计算一次体积雾。最终，实时体积雾成功实现，艺术家们得以创造出充满魔幻细节的关卡。多年后，当蒂姆与那位芬兰工程师谈起此事时，对方却笑着说：“哦，不，我们作弊了，那只是在3D Studio Max里渲染出来的！”这个故事让蒂姆深受启发：即使最初只是“障眼法”，但只要相信可能，就能将其变为现实。

在引擎的漫长演进中，蒂姆也提到了另一位行业先驱约翰·卡马克。卡马克对代码性能的极致追求和“毫不留恋旧代码”的精神，让他不断迭代，直至找到问题的最佳解决方案，这为所有程序员树立了典范。正是这种精神，让蒂姆和卡马克共同定义了游戏世界的未来。

虚幻引擎在30年间经历了从1到5.5甚至0.6的惊人进化。硬件性能的飞跃令人难以置信：CPU性能提升了十万倍，GPU性能更是高达千万倍。蒂姆感慨，如果航空业有如此进步，人类早已能星际旅行。虚幻引擎的渲染团队是真正的“奇迹创造者”，几乎每一代引擎都重写了大部分渲染代码，以适应最新的硬件。从UE1的软件渲染，到UE2拥抱早期GPU加速，再到UE3借助DirectX 9的可编程着色器实现实时像素着色和动态阴影，以及UE4的持续功能增强，直至UE5凭借Nanite微多边形几何体和Lumen全局光照，彻底弥合了“游戏级”图形与“可观察照片级真实感”之间的鸿沟。

然而，并非所有部分都随时间巨变。文件管理系统、网络系统（客户端与服务器通信方式）仍是蒂姆当年代码的演进，如今已显陈旧，甚至在《堡垒之夜》中仍能看到因其“有损”特性而产生的网络bug。最大的限制是游戏模拟的单线程特性，即使在16核CPU上，也只有一个核心用于游戏模拟。虽然单线程编程更容易，但它已成为日益增长的瓶颈。因此，虚幻引擎6将是解决这些核心限制的下一代技术，旨在为现代世界提供一个更坚实的基础。

谈及虚幻引擎5的最新成就，比如在《漫威1943》中展示的超逼真泥土和雪景，其无限细节和“超真实”的视觉效果，正是Nanite和Lumen等技术将几何体生成和光照推向极致的体现，让玩家仿佛置身于二战时期被雪覆盖的法国战场。

# Chapter 7: 从泥土到人类：虚幻引擎的极致细节与生命力

故事从一个引人入胜的场景开始——《漫威1943》的世界，一个将漫威宇宙置于1943年被纳粹占领的冬季法国的宏大叙事。这里，白雪皑皑，历史的厚重感与严酷的寒冬交织，营造出一种身临其境的紧张氛围。然而，令人惊叹的细节往往隐藏在最不起眼之处。当镜头聚焦于一片普通的泥土时，它所展现的超现实主义细节，成为了虚幻引擎实时渲染“无限细节”能力的绝佳例证。

这片看似简单的泥土，实则凝聚了无数尖端技术的交响。Lumen全局光照系统是其核心之一，由丹尼尔·赖特历经十年磨砺而成。他的理论——通过足够多的光照计算层级，可以实现从宏观建筑投射的深邃阴影，到泥土上最微小的纹理细节，都能无缝、和谐地融入场景，且边界难以察觉。特别是在冰面与泥土交界处那些极其精细的阴影，正是屏幕空间光照技术的杰作。它并非基于整个世界进行计算，而是直接在屏幕像素层面进行阴影计算，通过像素着色器以惊人的速度完成，从而捕捉到肉眼可见的微妙光影变化，赋予场景极致的真实感。此外，材质分层系统也功不可没，它允许艺术家将泥土、冰雪等多种材质层层叠加，并精确控制它们在不同区域的混合与过渡。

场景的动态性同样令人赞叹。艺术家可以实时调整雪的覆盖程度，从薄薄一层到厚重积雪，瞬间改变整个环境的季节感。空气中弥漫的薄雾，以及从炽热物体上升腾的蒸汽，都并非自动生成，而是艺术家通过精妙的材质分层和粒子系统精心雕琢的成果。

而当目光转向一个燃烧的垃圾桶时，虚幻引擎的视觉魔力达到了新的高潮。火焰熊熊，浓烟滚滚，烟雾与光线、阴影的实时互动令人瞠目结舌。这不再是简单的游戏画面，而是一幅活生生的、充满电影感的场景。强大的粒子系统为火焰和烟雾提供了技术基础，而卓越的物理引擎则赋予了它们真实的动态。最令人惊叹的是，烟雾能够真实地遮挡光线，光线穿透烟雾时会随之减弱，使得烟雾本身的明暗变化也变得异常真实。这种对光线与体积介质互动的精确模拟，让燃烧的垃圾桶仿佛触手可及，将观众完全沉浸其中。

然而，在所有这些视觉奇迹中，最艰巨的挑战莫过于创造逼真的人类。数百万年的进化赋予了我们大脑识别面部模式、推断情感和意图的专门系统，使得我们对人脸的期望值极高，任何微小的瑕疵都无所遁形。为了攻克这一难题，Epic Games启动了MetaHuman Creator项目，由数字人类领域的顶尖专家弗拉德·马斯蒂洛维奇领导。这不仅涉及捕捉单个演员在专用球形捕捉设备中数小时的高分辨率视频，并经过数千小时的后期处理以生成精确的实时数字副本，更宏大的目标是构建一个包含全人类面部特征的庞大数据集。通过捕捉来自不同文化、大陆、年龄和面部特征的数千人，MetaHuman Creator旨在能够重构出系统从未见过的任意面孔，甚至未来可能通过手机照片就能生成高度精确的数字人像。

除了面部形状，渲染逼真的毛发也是一大挑战，因为它需要复杂的近似算法来模拟光线与亿万根发丝的互动。更关键的是皮肤的渲染。我们常以为皮肤是不透明的，但实际上光线会穿透皮肤，并在内部散射，这种“次表面散射”对皮肤外观有着巨大影响。这就是为什么无论如何粉刷人体模型，它也无法像真人一样逼真，因为它缺乏光线穿透皮肤所带来的微妙细节。此外，捕捉人类面部表情的细微之处，如眼睛的轻微眯起、微笑的形成，甚至是真诚与虚伪笑容之间的微妙差异，都要求引擎能够精确模拟肌肉、肌腱和脂肪的复杂互动。

这一切的实现，是卓越的技术艺术、三十年功能开发积累，以及NVIDIA提供的20万亿次浮点运算（teraflops）图形性能共同作用的结果。从90兆赫兹到20万亿次浮点运算，计算能力的飞跃是实现这些视觉奇迹的基石。但最终，是艺术家与工程师的紧密协作，将这些强大的工具转化为令人叹为观止的虚拟现实体验，让观众在冰冷的雪地中感受到火光的温暖，在虚拟世界中体验到真实的情感共鸣。

# Chapter 8: 数字人类的微表情与光影的诗篇

人类的眼睛能够感知到的纹理，以及我们所认为的“人”——无论那究竟是什么——的创造，都充满了无尽的挑战。要模拟皮肤的油光如何反射光线，光线又如何被皮肤吸收，同时还要考虑到构成细微表情的每一块肌肉，这简直是一项不可能完成的任务。仅仅是眼睛的轻微眯起，或是嘴角微妙的弧度，这些人类面部愚蠢而恼人的细微之处，都必须被精确捕捉。一个真诚的微笑与一个虚假的微笑之间的差异，那种在微笑初现时便透露出深层悲伤的复杂情感，当我们在现实中观察一张人脸时，能够轻易解读。而虚幻引擎的目标，正是要让艺术家和工程师们拥有在实时环境中渲染出这些情感的工具，这无疑是极其困难的。

正如专家所言，要正确呈现人脸，需要数十种不同的计算机图形系统和方面的协同作用。一旦其中任何一个环节出错，我们的眼睛就会立刻被吸引，并将之归入“恐怖谷”的范畴。因此，在数字人类领域所需的完美程度，远超渲染世界、草地或建筑阴影等其他任何事物。建筑阴影略有偏差，我们或许会宽容以待，但人脸的任何不自然之处，都会令人感到极度不适。为了应对这一挑战，虚幻引擎推出了两大核心工具：MetaHuman Creator和MetaHuman Animator。MetaHuman Creator让艺术家可以通过调整海量参数，轻松创造出独一无二的数字人脸，然后将其导入虚幻引擎，添加服装、发型等细节。而MetaHuman Animator则能通过面部捕捉技术，甚至只需一部iPhone，就能将演员的面部表演精确地转移到数字角色上。这并非简单的字面映射，因为演员与角色的脸型可能截然不同，其间的转换需要极其复杂且精密的算法。尽管这仍是一个漫长旅程中的一部分，但这些工具无疑极大地提升了艺术家的生产力和作品质量。

除了数字人类的精雕细琢，光影的魔法同样不可或缺。Lumen，作为虚幻引擎的全局光照系统，旨在以模拟现实的方式计算光线与整个场景的互动。早期的引擎只知道光线直射之处明亮，未被直射之处黑暗。然而，现实世界中，光线会在场景中动态反弹。当光线照射到一面红墙时，大部分蓝光和绿光被吸收，而红光则反射出去，继而照亮其他物体。如果红墙旁有一片白色的地板，红光就会从墙壁反弹到地板上，使地板呈现出微红的色调。这种光线在场景中多次反弹的复杂过程，正是Lumen所要解决的核心挑战。Lumen的真正魔力在于其能够以不同尺度——从数公里到像素和毫米——计算光线反弹的方式，并将其无缝整合，呈现出完全准确的光照效果。过去，艺术家需要为每一束光线做出精确的决定，而现在，借助Nanite和Lumen，他们只需构建场景、放置光源，一切便能自然而然地呈现出令人惊叹的真实感。无论是洞穴深处被外部光线巧妙照亮的复杂结构，还是光滑表面上令人惊叹的反射，Lumen都将光影的诗意展现得淋漓尽致。光线在现实世界中经过多次反弹，其效果虽然微妙，但一旦缺失，便会让人感到场景的“不对劲”，尽管可能说不出具体原因。这种对微妙光影线索的捕捉，对于创造引人入胜的视频游戏和电影至关重要，它能营造出激动人心或令人恐惧的氛围，光与影的交织，赋予了故事无限的张力。

虚幻引擎在电影行业的应用也取得了突破性进展。由虚幻引擎制作的短片《战争结束了！》荣获奥斯卡奖，这无疑是其在电影领域实力的最佳证明。好莱坞正经历一场革命，从传统的绿幕拍摄转向使用大型LED墙面板，这些面板实时显示由虚幻引擎驱动的计算机图形。这种转变极大地提升了作品质量，因为演员不仅能从虚拟场景中获得真实的照明效果，还能亲眼看到自己所处的环境，从而更好地投入表演。展望未来，生成式AI将成为虚幻引擎发展的又一重要方向。尽管有人对AI的进步速度过于乐观，尤其是在视频内容的一致性方面仍面临挑战，但专家认为，AI不会取代人类艺术家，而是成为他们的“生产力倍增器”。AI能够帮助艺术家更快、更高质量地创作出更优秀的作品。例如，AI可以作为后处理器，增强虚幻引擎的渲染输出，弥补传统计算机图形渲染中丢失的细微之处。此外，结合Epic的Quixel团队扫描的数万个高质量真实世界物体库，AI可以根据艺术家的需求，生成全新的、符合规范的树木等内容。这种将AI的生成能力与游戏引擎精确、一致的“场景图”模型相结合，是未来十年游戏引擎和内容创作的核心挑战。尽管如此，我们有理由相信，每一次技术革命都为人类创造了更多机会，AI也将如此，它将为每个人带来更广阔的创作空间和可能性。

# Chapter 9: 数字世界的双生：AI与引擎的融合之路

在虚幻引擎或其他3D引擎精心构建的数字世界里，一切都以惊人的精度存在。你所看到的每一块岩石、每一棵树木、每一片雪花、每一座桥梁，乃至每一个人物，都承载着海量的数据——纹理贴图、音效文件、动画序列，巨细无遗。这个世界是一个严谨的程序化、精确的计算机图形表示，它拥有完整的上下文，能够从任何角度、以任何设置进行渲染，并确保每一次重现都分毫不差，绝不会出现角色面部表情突然改变的“意外”。然而，这种极致的精确性也伴随着巨大的代价：所有内容都需手动构建，耗时耗力，且对专业知识要求极高。

与此形成鲜明对比的，是AI所“感知”或“思考”的世界模型。如果我们能窥探其参数深处，那更像大脑中神经元模糊的连接。AI拥有关于世界、图形、图像和人类的浩瀚知识，但这些知识以一种人类难以理解的形式存储。我们可以通过提示词（prompt）来提取这些知识，让AI生成图像或视频。但问题在于，AI的数据是“模糊”的。我们无法给出精确的指令以获得精确的结果。哪怕只是对提示词稍作修改，AI也可能生成截然不同的内容，我们难以对其进行艺术指导。它就像一个尚未驯服的工具。

然而，真正的未来在于将这两种模式融合。想象一下，AI不仅能理解提示词，还能“看到”场景中所有对象的列表及其特性，并学习它们如何移动和互动。通过引擎与AI之间持续的反馈循环，我们有望实现两全其美：既能拥有稳定、可控的场景，又能享受AI带来的高生产力，甚至能对特定部分进行艺术指导，并确保这些指导被永久地融入场景表示中。这就像是让AI不再仅仅在像素层面操作，而是直接在“场景图”层面创造对象，无论是音频还是其他任何元素，都将极大地赋能创作者。

当然，伴随AI的崛起，人们对失业的担忧也甚嚣尘上。艺术家和工程师们害怕被AI取代。但回顾历史，类似的恐惧并非首次出现。数字音乐合成技术曾被认为会淘汰音乐家，早期的数字乐器甚至不被允许参与某些音乐奖项的评选，因为它不被视为“真正的音乐”。同样，Photoshop创作的电脑艺术也曾被质疑是否是真正的艺术。然而，随着时间的推移，这些技术都成为了艺术家工具箱中的强大延伸。AI也将如此，它会成为一个更强大、更可控、更服务于人类的工具。

当前AI之所以让人感到疏远，是因为它在生成整体创作时异常强大，却又在细节控制上显得“不近人情”。你给它一张图片，想让它把某个部分替换掉，或者把某个物体变成绿色，它却常常无能为力，无论你如何修改提示词都无法说服它。这让人感觉计算机夺走了人类的控制权，有了自己的“主见”，仿佛是一个竞争者。但当AI能提供更精细、更细致的控制时，艺术家们会发现它就像Photoshop中的画笔或超能力一样，成为他们创作过程的自然延伸，增强作品，而非取代他们。

尽管技术转型总会带来阵痛，裁员的痛苦是真实存在的，但我们更应看到人机协作的巨大潜力。保持开放的心态，不断尝试前沿工具，探索它们如何提升生产力、赋能创作者，才是制胜之道。AI在代码生成方面也面临类似情况。它擅长生成那些在GitHub上已有百万次重复的“样板代码”，因为它学习了底层模式。但要让它完成从未有过的新颖、复杂的任务，却异常困难。代码量越大，AI生成的代码就越可能“差不多能用”，但那1%的bug可能比手写代码更难修复。这反而凸显了编程语言和软件模块化设计的不足——样板代码的存在本身就是一种失败。未来，程序员将更多地解决独特的、真正困难的问题，而非仅仅连接各种“小部件”。

将目光投向更宏大的愿景——元宇宙与现实模拟。一个“大胆”的问题是：我们距离模拟出我们所见的现实世界还有多远？答案是“惊人的近”，可能不到20年。在非人类交互方面，比如丛林、城市、光照等场景，我们已经非常接近照片级真实感，或许只需几年。但真正的挑战在于人类本身——他们的对话、意图，要达到足以欺骗我们大脑的真实感，门槛要高得多。这将是未来十年图形和模拟开发的主要难题。

十年前，模拟人类智能被认为是天方夜谭，因为我们缺乏算法。但如今，生成式文本AI已经能在文本层面很好地模拟人类（尽管情感层面仍有待提升）。随着AI在更多场景中进行训练，未来五年内，我们甚至可能看到极其逼真的人类模拟。这并非一个“好主意”的判断，而是技术发展不可避免的趋势，且速度惊人。当前大型语言模型（LLMs）已经几乎可以“决定性地”通过图灵测试，尽管我们总在不断提高AI的门槛。当超现实的面孔和身体，结合充满情感的语音和文本（如ElevenLabs等公司所擅长的），共同呈现在一个合成场景中时，我们可能会被感动到落泪。

那么，我们是否生活在一个模拟中？这是一个深刻的问题。我们应该更努力地探究宇宙的底层机制。世界的存在，物理定律，生命演化，热力学梯度，这些都令人着迷。如果我们在模拟中，那么“他们”又生活在什么中？总归要有一个基础现实。或者，如一些哲学理论所言，物理现实本身并不存在，我们只是数学定律演化的体现。随着AI变得越来越智能，我们对物理定律的理解越来越深入，这些问题变得愈发引人深思。

如果不是生活在模拟中，那么现实中有什么是不可模拟的？物理定律似乎是可模拟的，许多令人惊叹的事物也似乎是可模拟的。但“意识的火焰”——人类眼中闪耀的感受，或许是不可模拟的。这可能是连接宇宙机制解释的关键线索，而我们对此仍一无所知。最终，当技术足够先进，模拟另一个现实可能就等同于创造另一个现实。这不再是简单的嵌套模拟，而是宇宙中发生的另一件事。这或许是一个神学问题，尽管在现代科学中，神学已不再“酷”，但量子力学本身却为“神”或“灵魂”等外部输入留下了空间。

# Chapter 10: 模拟的终极追问与《堡垒之夜》的崛起

对话深入探讨了模拟与现实的界限，提出一个引人深思的哲学命题：当技术足够先进，以至于模拟一个现实等同于创造一个现实时，两者之间的界限便变得模糊。这不再是简单的嵌套模拟，而是宇宙中发生的另一个真实事件。然而，这种终极追问自然而然地触及了神学领域，一个在现代科学语境下鲜少被公开探讨的领域。尽管如此，量子力学本身，特别是量子波函数坍缩的现象，似乎为某种外部输入，无论是神、灵魂，抑或是纯粹的随机性，留下了理论上的空间。每当我们观察一个处于叠加态的量子系统，它便坍缩成一个确定的结果，这就像每秒有数万亿次的随机数被注入我们所感知的一切之中。面对这些宇宙最根本的问题，我们与远古的穴居人相比，在本质上并无更多确切的答案，尽管我们拥有先进的量子力学定律和日益智能的计算机。

话题随后转向了更实际的层面：我们是否会创造出让人类沉溺其中、不愿回归现实的元宇宙游戏世界？真正的沉浸感，或许就是让一个健康、正常的人选择永远留在虚拟世界。Epic Games作为游戏开发者，并不以此为目标，他们致力于创造有趣的、能让人们在现实生活之余放松娱乐的游戏。然而，随着模拟技术日益逼真，人类社会不得不面对一系列严峻的伦理拷问：我们应该在多大程度上深入虚拟世界？我们是否应该设定法律界限，防止创造出让人类过度沉溺的虚拟环境，更重要的是，防止创造出能够感受痛苦的模拟人类？一个能够体验爱、心碎、失落甚至死亡恐惧的超逼真模拟人，其所遭受的痛苦，是否与真实人类无异？这种对“人工”生命的折磨，即使在虚拟世界中，都令人感到深切的不安。这无疑将引发未来最高法院的激烈法律与道德辩论。游戏开发者普遍秉持着积极的初衷，旨在通过娱乐改善人们的生活，提供乐趣和消遣，而非替代现实。

那么，究竟什么是元宇宙？这个概念的价值和定义，常常随着不同人的言论而起伏不定。但归根结底，元宇宙是关于多人社交游戏体验的：你和朋友们在一个3D世界中相聚，以任何你喜欢的方式享受乐趣。《堡垒之夜：大逃杀》便是元宇宙核心精髓的生动体现，尤其是在索尼加入后，所有平台上的玩家都能跨平台共同游戏、语音聊天，形成了一个真正的社交体验。像《Rec Room VR》这样的应用，让朋友们在VR中一起玩台球或投篮，也捕捉到了元宇宙的核心愿景。我们正处于元宇宙的早期阶段，就像1992年的互联网一样，未来还有很长的路要走。Epic正是通过《堡垒之夜：大逃杀》的成功，意识到这一趋势，并积极推动创作者通过《堡垒之夜创意模式》和UEFN创造更多世界和游戏。

《堡垒之夜》的诞生故事充满传奇色彩。2011年，在完成《战争机器》系列游戏后，Epic希望探索新的游戏理念，特别是小型在线游戏。公司给所有员工一周时间，自由组建团队，用虚幻引擎开发一款游戏。其中一个团队便创造了《堡垒之夜》的最初版本：白天建造堡垒，晚上抵御僵尸。而其核心玩法——建造的乐趣——则一直被保留并不断打磨。游戏经历了漫长的开发过程，艺术风格也从写实转向了更具皮克斯风格的卡通化，以适应更广泛的主流受众，并减轻玩家在长时间游戏中的视觉压力。最初，《堡垒之夜》曾尝试过轻度MMO和塔防模式，最终在2017年初以“拯救世界”模式发布，取得了适度的成功。

然而，真正的转折点，发生在“大逃杀”游戏模式在全球范围内掀起热潮之时。受《绝地求生》的启发，Epic的员工们意识到《堡垒之夜》的建造系统与大逃杀模式结合的巨大潜力。于是，一个由30人组成的团队在“作战室”里，仅用四周时间，利用《堡垒之夜》七年积累的海量内容库，从零开始，迅速构建出了《堡垒之夜：大逃杀》的玩法原型。这一举动让Epic踏上了指数级增长的快车道：员工从300人激增至数千人，营收从一亿美元飙升至数十亿美元，Epic一跃成为当时游戏世界的中心。

支撑这一惊人成就的，是Epic自2012年以来构建的强大在线后端系统。这些系统为玩家账户、登录和多人游戏提供了高度可扩展的后端基础设施。通过在线团队一年的不懈努力，他们成功地将并发用户数从4万扩展到惊人的1500万。这得益于微服务架构的巧妙运用，将复杂的在线服务拆分为数百个相互协作的小型服务，从而能够识别并解决瓶颈，确保了系统的冗余性和强大的负载处理能力。更值得一提的是，Epic充分利用了亚马逊云服务（AWS）的强大弹性与能力，在没有购买任何服务器硬件的情况下，实现了如此大规模的扩展。当《堡垒之夜》经历指数级增长时，AWS甚至能在短短一周内，将价值数百万美元的服务器硬件紧急空运至巴西，以满足突如其来的巨大需求。无数幕后的无名英雄们默默奉献，才成就了《堡垒之夜》的辉煌。

# Chapter 11: 堡垒之夜的奇迹：从技术扩展到互联元宇宙的愿景

在构建《堡垒之夜》这个庞大虚拟世界的过程中，Epic Games面临着巨大的技术挑战，尤其是如何支撑数百万玩家同时在线的巨大负荷。幸运的是，亚马逊网络服务（AWS）的云托管技术成为了他们的救星。Tim Sweeney回忆道，当《堡垒之夜》的用户量飙升至1500万并发用户时，Epic无需购买任何一台服务器硬件，只需一通电话，亚马逊就能迅速调配资源。他生动地描述了一个周末，巴西的服务器一度告罄，但到了下一个更繁忙的周末，亚马逊的“无名英雄们”已经及时运送并启动了价值数百万美元的服务器，确保了游戏的顺畅运行。这些幕后英雄，正是支撑现代互联网和无数我们习以为常的服务与游戏的基石。

谈及《堡垒之夜》的巨大成功，Lex忍不住询问其盈利状况。Tim坦言，《堡垒之夜》每年创造数十亿美元的收入，是Epic Games营收的主体，尽管公司在虚幻引擎授权、《火箭联盟》、《糖豆人》以及Fab内容市场等业务上也有稳健发展。然而，Epic的战略并非仅仅为了盈利，而是将大部分利润投入到对未来技术的重金研发中。Tim透露，公司曾一度每年投入超过十亿美元用于研发，超出了当年的营收，这导致了一段痛苦的裁员时期，但最终他们稳定下来，现在每年仍投入数亿美元，这得益于公司早期积累的巨额利润和外部投资。Epic的目标是成为未来的技术巨头，坚信3D空间和实时3D模拟技术将是人类科技发展的重要方向，并为此不懈投入。

Tim进一步阐述了Epic对未来的宏大愿景，他直言不讳地指出当前游戏体验的“痛点”。他以《堡垒之夜》为例，玩家可以在其中无缝切换数万个不同的岛屿和体验，与上亿月活跃用户和朋友们一同玩耍。然而，一旦玩家想玩《Roblox》或其他游戏，就必须退出当前应用，启动另一个程序，面对不同的好友系统、账户名、操作方式和不互通的虚拟物品。这种孤立的体验在《使命召唤》、《魔兽世界》、《英雄联盟》等所有游戏中普遍存在，导致玩家无法带着朋友和物品在不同游戏间自由穿梭。即使是主机平台试图通过统一好友系统来解决问题，也仅限于各自平台内部，无法实现跨平台互通，形成了平台和游戏各自为政的“割据局面”。

Tim认为，解决之道在于实现所有系统的“联邦化”和“互联互通”。首先是统一社交生态系统，让所有平台上的玩家都能通过统一的ID（例如带@符号的用户名）被识别，实现跨平台好友的互通。其次，也是更大的挑战，是统一经济体系。这并非意味着《魔兽世界》中的一把剑能在《堡垒之夜》中使用，因为每个游戏都有其独特的玩法规则。但对于不影响游戏平衡的“外观物品”（如服装、载具皮肤），Tim设想建立一个行业标准，让玩家在某个游戏中购买的皮肤能在其他兼容的游戏中通用。他以《堡垒之夜》的创作者经济为例，解释了物品商店的收入如何根据玩家在不同游戏模式中的参与度进行分成，从而激励创作者。他甚至提到了一个有趣的现象：在《堡垒之夜》的“Only Up”模式中，由于玩家主要关注攀爬，很少看到其他玩家或自己的角色，因此玩家在服装上的消费明显减少，这揭示了游戏模式与经济活动之间的微妙关联。

Tim强调，这种互联互通的经济体系并不需要依赖加密货币或NFT。他认为，这些技术只是价值交换的一种方式，而真正的核心在于“互操作性”。这种互操作性可以通过区块链实现，也可以通过传统的数据库、行业标准机构来定义协议和规范，就像铁路标准化一样，这并非一个全新的技术难题。他批评了当前加密货币和NFT领域过度炒作的现象，认为它们偏离了真正的价值——即玩家在虚拟世界中获得的体验和物品本身所承载的意义。他坚信，一个基于真实价值和互操作性的数字经济，才是元宇宙的未来。

# Chapter 12: 元宇宙的基石：互操作性、大规模协作与Verse语言的诞生

在数字世界的浩瀚星空中，一个《堡垒之夜》的虚拟皮肤，其价值有时竟能与现实中的黄金相媲美。这听起来或许有些荒谬，但却是千真万确的事实。这种数字资产所承载的价值，促使我们思考：能否建立一套标准，让这些价值不再仅仅是NFT炒作的昙花一现，而是真正与人们所珍视的体验紧密相连？

想象一下，你可以在《堡垒之夜》中尽情驰骋，然后无缝地切换到另一个视频游戏，继续你的冒险，甚至带着你在《堡垒之夜》中获得的独特外观。这不仅仅是简单的游戏切换，而是一种价值的延续，一种互联互通的数字体验。要实现这一宏伟蓝图，我们需要一套如同互联网标准（如网页显示、网络通信协议）般严谨而开放的元宇宙标准。

目前，在低层数据交换文件格式方面，行业已取得显著进展。例如，2D图像有PNG，音频有MP3，而3D世界则有皮克斯的USD（通用场景描述）文件格式，它能精确描述场景图中的所有对象及其参数，让不同引擎都能导入并渲染出相同的场景。此外，GLTF纹理格式则负责存储3D对象的纹理、几何形状及其他底层数据。一个《堡垒之夜》的角色，其静态外观、身体形状、动画甚至表情声音，都能通过这些标准文件格式完美保存。然而，一个巨大的技术鸿沟依然存在：元宇宙的核心——编程语言。

回溯互联网的发展，HTML负责描述静态的2D网页布局，而JavaScript则赋予了网页动态交互的能力。但元宇宙所面临的技术挑战远超网页。它不仅仅是一个由单一公司打包发布的应用，而是一个由数百万创作者共同构建、无缝衔接的复合世界。这意味着它需要一种比JavaScript更强大、更安全、更具扩展性的编程语言。

数据量是另一个惊人的挑战。《堡垒之夜》的最高细节更新可达60GB，而这仅仅是其创意经济的一小部分。展望未来十年，随着标准的成熟，元宇宙的数据量可能达到EB级别。历史告诉我们，每一次技术能力的飞跃——无论是图形处理、CPU性能还是云服务扩展性——都会催生全新的游戏类型。从《毁灭战士》开创3D多人对战的先河，到《大逃杀》模式的兴起，都是技术进步的必然结果。20年前，我们根本无法想象能渲染出如此庞大、互动性如此高的多人游戏环境。

然而，我们仍缺乏构建超越单一公司能力范围的巨型环境和游戏模拟的能力。尽管《堡垒之夜》和《Roblox》已展现出数万创作者共同构建内容的生态，但玩家通常仍局限于某个“岛屿”内。未来的元宇宙，将是一个无缝、连续的游玩空间，其规模可能达到一个大陆甚至整个地球。在这里，你驾驶的汽车可能由一人设计，手中的武器由二十人打造，而你所处的环境则由成千上万的创作者共同维护。这种大规模、分布式协作的编程基础，正是我们目前所欠缺的。

为此，Epic Games正投入巨资，构建一种名为Verse的全新编程语言技术。Verse是一种函数式逻辑语言，旨在解决这些难题，让这种宏伟的数字世界成为可能。作为Epic Games的CEO，蒂姆·斯威尼（Tim Sweeney）亲自参与了Verse语言的论文撰写，这本身就足以让编程语言理论家们为之疯狂。Verse的核心目标是让代码易于扩展，不仅能让你构建一个《堡垒之夜》的岛屿，还能让你创建可供数百万其他程序员使用的模块或组件，并在一个庞大的环境中和谐共存，甚至支持数千万玩家同时在线的巨型模拟。

想象一下，一场拥有1500万并发用户的《堡垒之夜》演唱会，如果所有玩家都能在同一个服务器中，同时感受那份震撼与互动，那将是何等壮观！虽然屏幕像素有限，但通过巧妙的渲染和网络技术，我们有望实现这一愿景。正如蒂姆所言，解决这些难题正是他们的使命，因为“如果容易，别人早就解决了”。

Verse的设计哲学源于1970年代帕斯卡语言设计者尼克劳斯·维尔特（Niklaus Wirth）的原则：编程语言的强大并非源于大量特性，而是源于少数特性之间的高度可组合性。Verse试图修正1950年代ALGOL语言奠定的现代编程语言基础中一些“错误”之处。其核心创新在于，一个表达式可以产生零个、一个或多个值。如果产生零个值，则表示失败；一个值表示成功；多个值则提供了一个可迭代的集合。这使得Verse能够以更优雅、更可靠的方式处理条件判断（`if`语句）和循环（`for`循环），让条件不仅能判断真假，还能绑定变量，让循环像SQL查询一样，在一次操作中完成复杂的测试和结果序列生成，从而在简化代码的同时，获得数据库级别的强大查询能力。Verse，正是为这个由数百万创作者共同编织、规模宏大、充满无限可能的元宇宙，奠定最坚实的编程基石。

# Chapter 13: Verse语言：函数式逻辑的魅力与元宇宙的可靠基石

在元宇宙的宏伟蓝图中，Epic Games倾力打造的Verse语言，正以其独特的函数式逻辑范式，悄然改变着我们对编程的认知。想象一下，一个“for”循环不再仅仅是按部就班地执行，它能像魔法般同时生成多个值，甚至在没有值时优雅地“迭代零次”。这种能力，让复杂的嵌套循环成为过去，取而代之的是一种如同SQL查询般强大而简洁的表达方式。你可以在一个条件语句或循环中，像编写数据库查询一样，绑定变量、执行测试，然后按特定顺序生成一系列结果。这就像是把数据库的强大查询能力，融入到了一种更简单、更统一的编程语言中，让开发者在进行迭代操作时，同时拥有了处理复杂数据结构的利器。

Verse的魅力还在于，它允许函数“失败”。这意味着一个函数在回答某个问题时，不仅能给出“是”并返回一个值，也能明确地表示“否”。这种“可失败表达式”的设计，让开发者能够将这些函数巧妙地组合成任意复杂的查询，构建出更健壮、更富有表现力的逻辑。

然而，这种全新的编程思维并非一蹴而就。对于那些习惯了C++等传统命令式语言的Epic程序员来说，初次接触Verse时，他们往往会不自觉地沿用旧习惯，写出比C++或Verse本身更复杂、更晦涩的代码。但经过几个月的适应，他们便能驾驭Verse的精髓，写出更紧凑、更优雅的代码。更有趣的是，那些从未接触过编程，却在《堡垒之夜》中首次学习Verse的用户，他们没有传统思维的束缚，反而能将这种函数式逻辑内化为直觉，写出比内部开发者更先进、更有趣的循环和条件语句，因为他们真正领悟了其核心概念。

元宇宙的构建，是一个庞大且持续演进的代码库，由无数开发者共同维护，且永不停止运行。这意味着每时每刻都可能有新的模块被更新，而整个系统必须在不停机的情况下进行实时升级。因此，确保代码的正确性和向后兼容性变得至关重要。Verse的类型系统在这方面发挥了关键作用，它能严格检查新发布的接口是否与旧版本兼容，例如，一个承诺返回整数的函数，未来可以返回自然数（因为自然数是整数的子集），但不能返回有理数（因为有理数不全是整数）。这种严谨性，是元宇宙稳定运行的基石。

更深层次的，Verse采纳了计算机科学领域一个鲜为人知却极其重要的发现——“类型即定理”（Curry-Howard Correspondence）。这个源于20世纪30年代的理论指出，如果以特定方式设计编程语言的类型系统，那么类型不仅能表达变量的种类（如“变量X是整数”），还能表达数学定理。例如，你可以将“一个函数接收一个整数数组，并返回一个已排序的相同整数数组”表达为一个定理。如果遵循这种类型理论体系，那么任何编写这个排序函数的人，都必须“证明”其结果确实是已排序的。这意味着，类型就是定理，而以特定方式构造的值，就是这些定理的证明。

如今，数学界越来越多地采用计算机辅助证明，确保定理的正确性。Verse的目标，正是成为第一个将这种“证明即编程”理念主流化，并以用户友好的方式呈现的编程语言。它旨在让编译器能够捕获更多的编码错误，从而让“如果编译器不报错，程序就能正常工作”的理想更接近现实。在元宇宙中，一个bug一旦进入运行时并到达用户手中，其修复成本将是开发阶段的数百倍。Verse通过在编译时捕获这些错误，极大地提高了元宇宙的可靠性。

当然，证明程序的完全正确性是一个巨大的挑战，但Verse允许开发者根据需要逐步引入这些证明能力。例如，在编写加密算法或数据解压器等关键代码时，证明其不溢出内存就显得尤为重要。Verse的这种设计，使得开发者在享受高级证明能力的同时，也能保持开发的灵活性。

展望未来，当AI辅助编程成为常态时，Verse的这种特性将更具价值。AI生成的代码可能语法正确，但逻辑错误。如果语言能要求AI在生成代码的同时提供“证明”，那么编译器就能验证其正确性，从而大大提升AI代码的可靠性。

Verse的设计目标是宏大的：它要足够简单，让初学者也能轻松上手；足够通用，能编写任何类型的代码和数据；足够高效，支持团队协作；通过静态验证，在编译时捕获尽可能多的运行时问题；为实时、开放世界的多人游戏提供高性能；功能完备，支持抽象；经久不衰，满足现在和未来的需求。它融合了函数式、面向对象和命令式编程的最佳实践，力求确定性、支持可失败表达式、推测执行和并发。

尤其值得一提的是，Verse在处理并发问题上的雄心。在多线程或分布式系统中，手动管理并发是极其困难且容易出错的。过去五代虚幻引擎都曾避免让游戏逻辑代码手动扩展到多线程，因为它太容易出错。而Verse的目标，正是要驯服并发这头猛兽，让普通程序员也能通过编写普通代码，轻松实现大规模并发，为元宇宙的千万级玩家同屏互动，构建坚实的技术基石。

# Chapter 14: Verse驯服并发巨兽：通往千万级元宇宙的开发之路

在元宇宙的宏伟蓝图中，一个巨大的技术障碍横亘在开发者面前，那就是“并发”——如何让成千上万甚至上亿的计算任务同时运行，并确保它们之间不会互相干扰，导致混乱的结果。传统的编程世界里，处理并发就像走钢丝，程序员们必须小心翼翼地手动协调多线程访问数据，稍有不慎便会酿成大错。就连强大的虚幻引擎，在五代迭代中都曾回避将所有游戏逻辑代码手动扩展到多线程，因为这对于自身和所有授权伙伴来说，风险实在太高，简直是自掘坟墓。

有人曾尝试用“微服务”来解决这个问题，将程序拆分成数百个独立的小服务，通过消息传递来协调。亚马逊等大型网站确实通过这种方式实现了大规模运行。然而，这种方案对于元宇宙来说却远远不够。元宇宙的未来将由数百万非专业计算机科学家、而是充满热情的爱好者和首次编程的创作者共同构建，他们不可能预见并处理所有并行计算之间的复杂依赖关系。

幸运的是，早在20世纪80年代，就有一些开创性的基础研究为并发问题指明了方向，其中一篇关于Haskell并发的论文《可组合内存事务》（Composable Memory Transactions）更是将其变为现实。这个概念的核心是“事务”——一个代码块，它执行一系列内存操作（读、写、处理订单、转账等），但必须以单线程的方式运行。想象一下，你要从银行账户转账100美元，系统需要先检查你是否有足够的余额，如果没有就拒绝，如果有就扣除并转入对方账户。如果没有事务机制，多个转账操作同时进行，可能会导致账户余额混乱。

事务的精妙之处在于，它将整个程序更新划分为一个个独立的、自包含的计算单元。在游戏引擎中，这可以是一个个游戏对象的更新。在《堡垒之夜》中，每个玩家、敌人、火箭、车辆都是一个独立的游戏对象，每秒60帧的速度下，每帧都有成千上万个对象在更新。目前，这些更新在每个游戏会话中都是单线程执行的，这也是《堡垒之夜》玩家数量限制在100人左右的原因。要实现数百万甚至数十亿玩家同屏互动，我们需要一种能够“神奇地”自动扩展代码的技术，而“事务”正是这个答案。

事务性内存的概念是，程序员可以像往常一样编写代码，读写变量，完全不必担心并发问题。系统会接管这一切。它不会立即将所有修改写入全局内存，而是将每个事务的修改暂时存储在本地缓冲区中。系统会同时运行成千上万个这样的事务更新，然后检查它们之间是否存在读写冲突。如果两个事务没有读写相同的数据，那么它们的执行顺序或并行执行都不会影响最终结果。系统会优先提交这些无冲突的更新，而那些有冲突的事务则会被重新运行，直到它们能够无冲突地提交。通过这种方式，并发处理的巨大难题从程序员的肩上转移到了语言设计者身上，大大降低了开发者的痛苦。

那么，Verse语言的进展如何呢？Epic Games正在并行推进多项工作。一方面，他们正在规划Verse语言的“终极版本”，包含所有理想的功能；另一方面，他们也在逐步发布更精简、但保持向后兼容性的版本。目前，Verse主要在《堡垒之夜》创意工具（UEFN）中进行测试和迭代，与《堡垒之夜》的创作者们一同探索元宇宙的使用场景。这是为了在将其推广给所有使用虚幻引擎的合作伙伴之前，充分验证和完善其功能。

虚幻引擎6（预计在未来两三年内推出预览版）将是这些努力的集大成者。它将融合《堡垒之夜》社区的易用性与虚幻引擎5为游戏开发者提供的强大功能，实现更简便的游戏编程、更强大的大规模模拟扩展能力，以及更广泛的部署能力。届时，开发者将能够一次性构建游戏，并选择将其作为《堡垒之夜》的岛屿发布（玩家可携带《堡垒之夜》物品和皮肤进入），或者作为独立游戏发布，甚至两者兼顾。更重要的是，Epic计划在此期间开放《堡垒之夜》的物品经济，让第三方开发者也能参与其中，实现物品在不同游戏间的互通，从而解决游戏行业长期存在的价值孤岛问题。

Epic Games也致力于赋能独立开发者。除了提供高效的工具（如Verse和蓝图可视化脚本），内容市场（如Fab和Unity Asset Store）也至关重要，它让小型独立团队能够利用现成的素材构建大型游戏，专注于独特的游戏内容，而不必从零开始制作每一棵树、每一块石头。这种劳动分工的专业化，将大大提高创作者的生产力。

此外，Epic Games还秉持着反对垄断的理念。从早期的Apple II+和IBM PC时代，计算机平台是开放的，任何人都可以自由编写、分享和销售程序，无需任何大型科技公司的许可。Epic认为，这种开放性是经济进步的源泉，并坚信平台不应向开发者收取过高的收入分成（如苹果的30%），而是应该维护一个自由、公平的生态系统，让所有创作者都能蓬勃发展。

# Chapter 15: 数字围墙下的自由之战

曾几何时，数字世界是一片充满无限可能的沃土。那是一个任何人都能编写代码的黄金时代，电脑开机后直接呈现编程提示符，你甚至需要刻意努力才能不写程序，转而去运行别人的作品。这种开放性赋予了人们难以置信的力量：任何人都可以编写程序，将其存入软盘，与朋友分享，甚至复制、销售，围绕它建立自己的事业，而无需征求任何大型科技公司的许可。即使是当时的计算机巨头IBM，也曾以开放平台的姿态发布了IBM PC。那段时期，技术领域经济进步的速度是前所未有的，充满了魔幻与奇迹。

然而，随着时间的推移，大型科技公司逐渐意识到，它们可以通过“关闭”平台，阻止软件开发者直接发布软件，阻止他们与客户直接进行商业往来。这种做法在演讲者看来，是极其恶劣的滥用行为。当你花费真金白银购买一台电脑或手机时，它就成为了你的财产。苹果公司没有任何理由阻止用户直接从其他开发者那里安装应用，或者在未经其许可的情况下运行自己编写的应用，更不应强迫用户通过其繁琐的官僚体系。消费者已经为手机付了钱，苹果却要对所有交易收取30%的“垃圾费”，而且这种收费还选择性地应用于某些商品而非全部，这无疑扼杀了曾经推动应用和软件经济发展的竞争引擎。虽然在Windows和互联网上，竞争依然活跃，但在移动应用领域，由于这些应用商店的出现，竞争已不复存在。它们提供的价值微乎其微，例如搜索功能，但其他公司完全可以做得更好。试想，如果Valve公司为iPhone打造一个Steam应用商店，它很可能会比iOS应用商店优秀得多，迫使苹果在竞争中改进自身产品，最终让所有人都受益。

苹果和谷歌扼杀软件经济竞争引擎的行为，对整个行业产生了深远影响。其中之一便是移动应用性质的扭曲，尤其令游戏玩家感到不适。在主机平台上，商店里展示的、评论中赞誉的都是那些具有创意价值、物超所值、投入巨大心血的优秀游戏。但在iPhone上，排行榜前列的应用或游戏，几乎无一例外都是那些极度贪婪、高额变现的“鲸鱼游戏”，它们充斥着“付费取胜”和“开箱”等类似合法赌博的机制，其驱动力并非乐趣，而是对玩家的操纵，以达到贪婪的目的。对于那些以乐趣为基础的游戏来说，在这种环境下生存异常艰难。运营这些在线游戏的成本本就高昂，如果一款游戏不依赖开箱，却还要向苹果支付30%的收入作为平台使用费，而这30%往往远超大多数游戏公司的利润。这意味着，为了生存，它们只能提高价格，从而导致所有数字商品的价格上涨，成为经济中的通胀因素。

更糟糕的是，为了触达用户，开发者还要付出额外代价。在苹果封禁《堡垒之夜》之前，用户搜索“Fortnite”，第一个结果往往是其他竞争游戏，这完全是反用户体验的。而在Steam上搜索游戏，如果游戏存在，它永远是第一个结果，因为Steam没有被广告“污染”，而苹果却有。为了获得更高的搜索排名，开发者可能要支付高达45%的费用。如果想通过社交媒体触达用户，还要再支付20%。这意味着，一款游戏高达70%的收入都可能被这些“垃圾费”吞噬，用于获取用户。剩下的资金，只够支撑那些采用滥用性做法的游戏，它们在普通玩家看来，已不再是真正的游戏。尽管iOS上仍有一些优秀的游戏和良好的实践，但整个生态的引擎已被腐蚀，而竞争本可以修复这一切。

为何没有更多公司像Epic一样公开对抗苹果？答案是恐惧。苹果有能力摧毁任何公司的业务。Epic之所以能挺身而出，是因为《堡垒之夜》在当时是全球最大的游戏，并且大部分用户都在PC和主机平台，即使失去iOS平台，Epic也能生存。而Spotify、Facebook等绝大多数顶级移动应用，一旦被苹果封禁，其业务将彻底毁灭。苹果向开发者明确表示，一旦发生冲突，他们愿意剥夺所有用户对任何应用的访问权。他们对Epic的处理，不仅是为了赢得官司，更是向全球所有开发者传递一个信息：胆敢反抗，我们将不惜一切代价摧毁你的业务。尽管如此，仍有少数开发者敢于发声，而苹果在他们未违反任何政策时，也未敢轻易摧毁其业务，这或许是苹果的一种策略，不愿被视为“公司杀手”。

除了直接的威胁，苹果还拥有强大的“软实力”。当他们收取30%的费用，而广告成本又如此高昂时，苹果的“软实力”——比如加快或延缓你的应用更新几周——都能对公司的竞争力产生巨大影响。苹果与开发者玩“猫鼠游戏”的历史由来已久，如果某个开发者不受待见，他们的更新就会被拖延数周甚至数月，而这一切往往在公众视线之外，因为没有人敢公开挑战。这种“软实力”足以让任何上市公司望而却步。

Epic之所以坚持这场战斗，是因为坚信元宇宙的未来——一个拥有十亿级用户、实时3D社交生态系统，最终可能涵盖所有主要开发者、所有主要游戏，并连接成一个开放经济体，所有参与者都能公平竞争，直接与客户进行交易——只有在苹果和谷歌的“守门人”垄断被打破后才能实现。这不仅仅是30%的费用问题，更是深层次的控制。苹果阻止iOS上的所有网络浏览器更好地实现网络标准，限制了网络应用的数据存储和3D图形能力，旨在削弱网络应用，使其无法与原生应用竞争。如果苹果以对待网络的方式对待元宇宙，他们可能会宣称只能使用苹果自己的元宇宙引擎，禁止虚幻引擎，并强加各种限制，迫使所有商业活动都通过苹果进行，或者使其缺乏竞争力而无法发展。

苹果拥有一整套反竞争策略，例如只允许苹果开发某些类型的应用，或只允许苹果集成某些功能。即使在欧洲，DMA法案要求苹果允许竞争性商店，他们也规定商店只能是商店，不能将社交网络融入商店，因为一个“不仅仅是商店”的商店可能会更有效地与他们竞争。这是一种“纵深防御”策略，构建了一系列巨大的壁垒，每一个都足以扼杀任何竞争尝试。即使突破一道壁垒，其他壁垒依然存在，从而彻底阻碍竞争。这在欧洲已经显现，苹果虽然允许Epic Games Store上线，但却设置了重重障碍，使其对Epic和客户都缺乏竞争力，除非欧盟真正执行DMA法案并对苹果施加严厉惩罚，否则难以成功。

演讲者再次强调，苹果的这些做法是错误的，并希望公众和政府施加压力，促使他们开放平台。他相信，对于苹果自身而言，开放也是一件好事。公司自然倾向于封闭、控制和扼杀竞争，但苹果拥有众多杰出的工程师，如果他们选择开放并以实力取胜，这将创造良性竞争，促使苹果商店变得更好。竞争能磨砺利剑，让一切变得更美好。他感谢Epic的公开表态，让人们知道这种行为是错误的。竞争能让所有人都变得更好，垄断者被迫竞争时，其产品和对消费者的服务都会大幅提升。苹果在许多领域本可以做到最好，但现状却令人失望。正是那些固守旧政策的守旧领导层，将自己变成了所有开发者和监管者的敌人，这最终将对他们造成巨大损害。他期待新一代领导者能带来光明的未来。

Epic曾是苹果十多年来的优秀合作伙伴，共同创造了许多惊人的成就。演讲者渴望看到那个回归史蒂夫·沃兹尼亚克最初愿景的苹果——一个像Apple II那样完全开放的平台，其手册中包含所有ROM的源代码和整个计算机的硬件原理图，让人们可以学习、创造外设并接入开放生态系统。那样的公司将再次成为世界上最伟大的公司，而当前的苹果正站在历史的错误一边，需要改变。尽管如此，演讲者仍希望Epic和苹果能找到共同前进、共同繁荣的道路，希望苹果能更好地拥抱竞争。他赞赏对话中多次提及Steam并给予积极评价，却很少提及Epic Games Store，这体现了Epic追求多样性、自由选择和构建人类自由互动网络的愿景。

几年前，Epic通过推出Epic Games Store，以12%的收入分成（远低于Steam的30%）创造了巨大的竞争压力，这被认为是一个绝妙的主意。然而，互联网上对EGS也存在不少批评，主要集中在两个方面：一是启动器界面笨拙，缺乏Steam的许多功能；二是其与某些游戏签订的独占协议。

# Chapter 16: Epic Games Store的挑战与策略：在争议中构建开放未来

故事的开篇，主持人对Epic Games Store（EGS）那仅抽取12%收入的商业模式赞不绝口，称之为“绝妙主意”，认为这无疑是游戏行业的一股清流。然而，互联网上对EGS的批评声也从未停歇，主要集中在两个方面：一是启动器界面笨拙，功能远不如Steam丰富；二是其独占游戏策略引发了玩家的不满。

面对这些质疑，Epic的掌舵者坦诚地揭示了背后的故事。他承认EGS启动器确实存在笨拙之处，并表示团队正在努力改进。他解释说，Steam拥有长达15年的开发积累和一支庞大的顶尖程序员团队，而EGS在起步阶段不得不优先考虑商业功能，如商品销售、多版本游戏和升级选项，以满足合作伙伴的需求。尽管他们多次重构，并认识到用户体验的重要性，但生活质量（QoL）功能的优先级确实不够高，这让他们和许多用户都感到失望。同时，他也指出，EGS的体验并非一成不变，它会根据用户与内容分发网络（CDN）的距离以及游戏库的大小而有所不同。

Epic并不打算完全复制Steam的所有功能。例如，他们认为游戏论坛并非必需，因为开发者更倾向于利用Discord、Reddit等现有社交平台与玩家互动。Epic的目标是提供与Steam一样便捷有趣的使用体验，而非功能上的完全模仿。尽管前路漫漫，但Epic对EGS的未来充满信心，并致力于将其打造成一个数十亿美元的业务，尤其是在《堡垒之夜》已在PC、安卓和iOS（欧盟地区）上实现跨平台商务支持的背景下。他们坚信，随着游戏日益走向多平台化，EGS的开放策略最终将超越Steam的封闭模式。

谈到多平台，Epic的代表显得尤为激动。他指出，当前游戏行业最大的痛点在于平台间的壁垒：Steam、Xbox、PlayStation和Nintendo的朋友圈彼此孤立，玩家被迫在不同的身份之间切换，这极大地限制了社交体验。Epic的解决方案是开放其为《堡垒之夜》构建的Epic在线服务（EOS）和社交系统，让所有开发者都能免费、便捷地实现跨平台社交功能。这并非为了垄断或收取租金，而是为了让所有玩家都能更轻松地与现实世界的朋友互动。他引用梅特卡夫定律强调，游戏连接的真实世界朋友越多，其价值就呈指数级增长。他甚至批评Valve未能开放Steamworks，将其作为锁定PC玩家的工具。这种开放的理念甚至引来了部分Steam用户的“毒性”批评，他们甚至组织了针对使用EOS的开发者的骚扰活动。

主持人对此深表赞同，他赞扬Epic在推动多平台互通方面所做的努力，特别是《堡垒之夜》打破Xbox、PlayStation和PC之间壁垒的壮举。他回忆起与Epic代表一同玩《堡垒之夜》的经历，不同平台的玩家无缝地连接在一起，这让他感到无比欣慰。他强调，游戏行业应该以玩家为中心，消除这些不必要的壁垒，让所有人都能自由互动。

Epic代表进一步分享了与索尼合作的成功案例。索尼曾长期坚持阻止跨平台游戏的政策，Epic与他们进行了多轮“激烈”的对话。最终，索尼做出了正确的选择，开放了PlayStation平台。自2018年那次争论以来，Epic与索尼的合作关系反而更加紧密，不仅《战神》等索尼IP角色进入《堡垒之夜》，索尼还在游戏和电影制作中大量采用虚幻引擎，甚至在音乐领域也有合作。他认为，索尼的转变是一个绝佳的范例，证明了即使是因历史原因陷入过时政策的公司，也能通过真诚的讨论做出正确的调整，从而让所有人都受益。他甚至对比了苹果，认为如果苹果能像索尼一样倾听，他们就不会陷入长达五年的法律战。

至于独占协议的批评，Epic代表再次强调了原则性差异。他将苹果强制使用其支付服务定义为“强制性”垄断，而Epic通过提供资金、激励、营销等“积极性”手段吸引开发者独家入驻，则是真正的市场竞争。他坚称，游戏是开发者的，他们有权决定如何分发。Epic作为市场份额远低于Steam的“挑战者”，必须提供独特的价值才能竞争。他们最初尝试通过更低的价格来竞争，但很快发现，由于Steam和主机平台强大的影响力，开发者担心如果降价会失去营销支持并损害与其他平台的关系，因此无法实现。

于是，Epic转而通过提供独占内容来竞争。他们投入了超过十亿美元的资金，吸引了大量独占游戏。有些游戏，如《无主之地》，在EGS上取得了巨大成功，证明了玩家会为了心仪的游戏而来。但也有一些小型游戏，由于缺乏固定受众，独占策略反而限制了它们的曝光，导致触达的玩家数量减少。这些限时独占协议结束后，部分游戏也回到了Steam。Epic承认，这种策略并非对所有游戏都有效，但对于一个寻求竞争的挑战者来说，提供独家内容是必要的。他认为，如果EGS的成功能够迫使Valve竞争，那么开发者和消费者都将获得更好的交易，30%的平台抽成也将大幅下降。

主持人最后表示，他个人希望EGS未来能像Spotify对待播客一样，放弃独占策略，转而专注于其他方面的竞争。

# Chapter 17: 竞争策略、垄断揭秘与游戏未来

在深入探讨Epic Games Store与Steam的竞争策略时，对话者们首先聚焦于Epic的12%分成模式，认为如果Valve能被Epic的成功所迫，真正展开竞争，那么开发者和消费者都将受益，30%的平台抽成将大幅下降，趋近于维持商店运营的实际成本。

然而，关于独占策略，Lex表达了不同的看法。他以Spotify放弃乔·罗根播客独占权为例，希望Epic Games Store最终也能放弃独占，转而在用户界面的流畅性、非卡顿体验以及其哲学层面的道德立场（即12%的低分成）上进行竞争。他认为，虽然作为市场挑战者，独占策略在初期是必要的，但它与Epic所倡导的跨平台自由选择精神有所抵触。

Tim对此提出了一个核心困境：由于现有商店的“软实力”影响，几乎没有开发者敢于通过Epic Games Store提供比Steam更低的价格。他解释说，如果Epic能让游戏价格便宜18%，无疑会显著改变消费者行为，吸引他们前来。但Steam等平台会通过“恐吓电话”等方式阻止开发者这样做，使得开发者无法将节省的成本转嫁给消费者。在这种价格竞争受阻的情况下，Epic不得不通过独占内容来吸引用户，这是在现有市场格局下，对抗垄断的无奈之举。

为了进一步揭示垄断的本质，Tim披露了一个惊人的事实：当Epic宣布《堡垒之夜》将绕过Google Play发布时，谷歌曾启动“拥抱计划”（Project HUG），向排名前30的发行商支付数亿美元，以阻止他们与竞争对手签订独占协议。这一行为后来被陪审团认定为非法且反竞争。更令人震惊的是，运营Google Play商店的全部成本，包括维护软件和整个生态系统，仅占收入的约6%。苹果的运营效率更高，成本也大致在6%左右。这意味着，这些平台将6%的成本加价到30%的抽成，只有垄断者才能做到，而竞争激烈的行业利润率通常只有几个百分点，这有力地证明了市场存在公然的反竞争扭曲。

随后，对话转向了游戏行业的未来。Tim强调，游戏的核心始终是“乐趣”。许多近期失败的游戏，正是因为未能提供足够的乐趣，或者其乐趣无法与生活中其他娱乐来源竞争。他指出，行业人才竞争激烈，Epic、Riot等充满活力的公司以及大型科技公司都在吸纳顶尖开发者，导致一些传统发行商的能力下降，制作的游戏乐趣不足。此外，乐趣的本质也在改变：与朋友一起通过语音聊天进行社交互动式的多人游戏，比单人游戏更具吸引力。梅特卡夫定律在游戏中体现得淋漓尽致，能够吸引大量朋友共同参与的游戏，不仅能吸引更多玩家，也能更好地留住他们。这种趋势导致玩家逐渐集中到少数大型多人社交游戏中，形成“赢家通吃”的局面，这些大作能够获得更多收入并进行再投资，从而以更快的速度提升乐趣。

Tim将未来的游戏市场分为两大机遇：一是能够长期留住玩家的大型多人体验游戏；二是作为玩家从大作中“度假”的优质单人或小型多人游戏。他认为，后者需要高效开发，预算不宜过高，例如4000万美元而非3亿美元。这种结构性变化，可能对那些无法触及庞大受众的单人游戏品类构成严峻挑战。

最后，当被问及除了Epic自己的作品外，他认为最伟大的游戏时，Tim表达了对那些创造出“完整、鲜活、会呼吸的世界”的游戏的敬意，这些游戏能让玩家感觉自己是其中一部分，充满无限可能，例如《塞尔达传说：旷野之息》、《上古卷轴：天际》和《荒野大镖客：救赎》。他特别提到《荒野大镖客》中对水文生态的细致模拟，展现了对细节的极致追求。Tim坚信，史上最好的游戏类型尚未被发明，随着技术进步和高生产力工具的赋能，未来将涌现出更多超乎想象的酷炫作品，而世界模拟器正是其中一个充满潜力的方向。

# Chapter 18: 游戏的灵魂与数字时代的希望：从细节到人性的深度探索

故事从对“活生生的世界”的探讨开始。Tim Sweeney提到，创造这种世界，让玩家能真正“踏入其中”，甚至能与朋友们一同漫步于广阔的数字空间，是一项巨大的挑战。他以《荒野大镖客》为例，赞叹其细节的极致，并指出Epic Games致力于提供工具，让艺术家们能够倾注心血，雕琢每一个细节。正是这种对细节的执着，才让游戏的“灵魂”得以显现，玩家能真切感受到创作者的热爱与匠心。

Lex Fridman对此深有同感，并进一步指出，不同的游戏拥有截然不同的“灵魂”。Tim以《使命召唤》和《堡垒之夜》为例，前者可能充满紧张与对抗，而后者则散发着一种神秘而友善的精神。在《堡垒之夜》中，即使被淘汰，也没有血腥的场面，玩家只是被“传送出模拟”，有时甚至会因为滑稽的失败而捧腹大笑，或是由衷地敬佩对手的巧妙。Tim分享了一个有趣的经历：他喜欢玩四人小队模式，与随机匹配的陌生人组队。在匹配区域更广阔的时候，他甚至学会了一些“战场西班牙语”，以便与来自墨西哥城等地的队友交流。他发现，这些互动充满了令人印象深刻的积极性，与《使命召唤》中常见的“键盘侠”文化形成了鲜明对比。

谈到游戏开发，Lex提到了《侠盗猎车手6》漫长的开发周期，这引出了一个关于高质量游戏制作难度的深刻讨论。Tim解释说，制作游戏，尤其是那些试图突破真实感和沉浸感边界的作品，是一项极其艰巨的任务。Rockstar Games在《侠盗猎车手》系列中对品质和细节的追求达到了惊人的程度。当你在创造前所未有的高品质和细节时，你无法预测需要多长时间。解决一个问题往往会暴露出更多新的问题，就像修复一处超现实的细节，反而会凸显其他地方的不真实。Tim强调：“如果对质量没有高标准，那么发布游戏很容易，但也不会取得成功。”Rockstar虽然耗时漫长，但最终交付的都是令人惊叹的作品，这证明了“一个糟糕的游戏永远是糟糕的，而一个迟来的好游戏最终会被发布并成为经典”的道理。

Epic Games自身也面临着交付高质量作品的巨大压力。Tim透露，团队常常工作到最后一刻，力求完美。对于像《堡垒之夜》赛季这样快速迭代的直播服务游戏，直到最后几个月才能真正看清作品的全貌，并理解其平衡性。任何后期出现的问题，都会导致团队的快速冲刺修复。同时，许多经验只能在游戏上线后通过玩家反馈来学习，这意味着游戏本身就是一个不断改进的“实验”。

对话的最后，Lex提出了一个宏大的哲学问题：在创造了这些为人类带来巨大乐趣的数字世界后，Tim对人类的未来有何希望？Tim Sweeney对比了数字时代带来的两种截然不同的世界：一是社交网络，充斥着负面情绪、政治争吵和“键盘侠”文化，通过“互动量”来策展内容，往往助长了消极和毒性，他认为这在许多方面是一种倒退，甚至动摇了世界的根基。而另一种，则是像《堡垒之夜》这样，当真实的人们在线上连接并一同游戏时所展现出的积极精神。他发现，在《堡垒之夜》中与陌生人组队，所建立的人际连接是如此积极和令人喜爱。

Tim总结道，人类在真实世界或虚拟世界中面对面交流、共同存在，本身就是一种“自然而然的同理心媒介”，它能促进人与人之间的联结。尽管冲突有时会发生，但这种方式总体上更能促进社会规范和积极的互动。相比之下，那些充满愤怒信息的文本交流，则形成了一种自我强化的负面循环。Lex对此深表赞同，他指出文本媒介，即使在游戏相关的Discord群组中，也可能充满毒性。然而，当人们在物理空间中相聚，或者在一个足够沉浸式的数字空间（如元宇宙）中感受到彼此的存在时，同理心和由此产生的快乐便会自然流露。这让他相信，人类本质是善良的，渴望看到并分享美好。他感谢Tim Sweeney在创造这些能够以同理心方式连接世界的边界上所做的努力。

