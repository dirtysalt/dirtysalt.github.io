# Chapter 1

以下是与 Dave Plummer 的对话

程序员，也是微软资深软件工程师，曾参与 Windows 95 开发工作

NT 和 XP 系统，开发了许多令人惊叹的工具

其中一些工具已被数亿人持续使用至今

像著名的 Windows 任务管理器那样。

是的，就是那个 Windows 任务管理器。

还有 Windows 中的 zip/unzip 压缩支持功能。

他还移植了《太空军校生弹珠台》的代码

又名 Windows 三维弹球

如今，他因名为"Dave's Garage"的精彩 YouTube 频道而深受众多程序员和工程师喜爱，你绝对应该去看看。

他还写了一本关于自闭症的书

以及讲述他人生故事的作品，名为《自闭症百万富翁的秘密》

他提供了关于如何在自闭症状态下经营人际关系

事业以及日常生活的非常有趣的见解。

总而言之，这是一次关于编程历史和未来的超有趣对话

计算机技术，以及如何在这个传奇车库中打造酷炫产品。

这里是莱克斯·弗里德曼播客。

如需支持，请查看简介中的赞助商信息

现在，亲爱的朋友们，有请戴夫·普卢默。

聊聊你的第一台电脑吧。

你还记得吗？

我同意。

我很久之后才拥有自己的第一台电脑

但我使用的第一台电脑是 TRS-80 Model 1

一级，4K 机器，我大概在五六年级时骑自行车

那时我大约 11 岁，去了当地的 RadioShack 商店。

你知道的，他们有标准的组合音响系统和 RadioShack 该有的其他东西

但他们有一摞标着"电脑"的箱子

于是我就向那里的工作人员询问这件事

他们说刚拿到设备，还没设置好

当时我算是比较早熟的，就想

"那我来帮你们设置吧"

他们说：“好吧，试试看吧。”

“你知道自己在做什么吗？”

完全不知道。

我是说，这比组合音响好不到哪去

唯一的问题是，Tandy 公司以其无穷的智慧

使用了相同的五针 DIN 接口来供电

视频，还有卡带机，所以它们看起来完全一样

如果插错了接口，设备就会烧毁。

于是我看了标签。

然后，呃，把它弄好了就开始摆弄起来

我对电脑一窍不通，所以就在上面输入英文指令

你看，输入 PRINT 2+2 完全没问题，但要是只用这种基础的一级解释器，输入些简单的英文指令可走不了多远。

所以你试着用英语和它交流？

是的。

当时不知道有更好的方法。

我至今还保留着六年级时写的一份

虽然逻辑上不太严谨但勉强能运行的程序

但在当时存在的任何解释器上都没有运行的可能

所以我花了一些时间才弄清楚它们实际上的运行原理

不过，呃，我每周四和周六都会骑自行车去那里

他们也很慷慨地让我使用那台机器

这是什么时候的事？

79 年、80 年。

好的。

那时候的计算机技术水平如何？

那我们当时在讨论什么呢？

三大巨头已然问世。

TRS-80 Model 1、PET 2001 相继亮相

而 Apple II 也几乎同时面世。

Apple II。

你会说这是有史以来最伟大的计算机吗？

回想起来可能是的。

嗯，我可能会把这个称号给 Commodore 64。

是的。

我们在这点上达成一致，那是我第一台电脑。

可能是在它发布多年之后，但确实如此

Commodore 64 确实了不起。

不过确实，Apple II 对个人电脑历史产生了巨大影响。

没错。

长期影响难以估量，但我认为 64 本身可能影响了更多人

这就是我选择它的原因。

你这么认为吗？

销量确实更高。

所以 Commodore 64 卖得很好？

是的。

我是说，这些数字令人难以置信。

这取决于你相信哪些数据，但即便是中等估计值也相当高。

好吧，不错。

所以你后来升级到了 Commodore 64。

呃，那个，给我讲讲那台机器的事吧。

你在 Commodore 64 上做过什么？

嗯，我做的第一件事就是把它上面的软驱给烧坏了

这挺倒霉的，因为那台机器不在保修范围内。

我们拥有过。

..

我父母没有太多钱，所以我们是从 Computer House 买的，而不是从大型零售商那里购买的。

这意味着当它坏了时，必须送回德国之类的地方修理。

所以我当时没有软驱，只能用磁带录音机。

这已经是当时你能做到的最好的了

所以我当时写些小程序，有一个可以从磁带加载的机器语言监视器

虽然没有内置汇编器，但它带有一个反汇编器

这样你就能输入 6502 的操作码了

以十六进制表示，如果你仔细规划的话

你就能编写一些基础程序

我就是这样入门的。

而且，呃，我在上面写的第一个程序是《Galaga》的克隆版。

现在，这只是一个拙劣的《Galaga》克隆版

但它包含了随时间推移发动攻击的主要敌人

而且全部是用手工编写的机器语言写成

6502 处理器不支持代码重定位，所以如果你需要在中间添加代码

你得手动跳转到别处去

干完活再跳回原来的地方

这简直就是一团乱麻般的代码

不过最终好歹是跑通了

于是我去做了备份

为了保存给未来的学者们，或者管我当时在搞什么名堂——

..

然后，呃，我把空白软盘的内容复制到了存有数据的软盘上。

这就是我第一次——哦不。

.

..

有数据管理方面的经验。

所以我已经没有自己第一个程序的副本了。

那种感觉是怎样的，你还记得吗

呃，就是随便做点什么

呃，如果我能这么说的话，就像个傻瓜一样

你明白吗？

这也是编程体验的一部分。

是啊，当时充满了内疚感

因为，对吧，你毁掉了好几周的工作——是啊。

.

.

而且你知道这是因为你太着急了

或者你确实——是啊。

.

.

做了些蠢事，或者做了不明智的决定。

那个游戏里用到的编程，能具体讲讲吗？

所以真的是机器语言。

太机器了。

..

对- 就是 6502。

.

.

这连汇编都不是？

还不是汇编，因为还没内置汇编器

所以我本该先写个用汇编语言编写的汇编器作为首要任务

但当时我没那么聪明，所以...

这有多难实现？

轻而易举。

而且这是那种会形成习惯的事情

我认为。

你反复做了太多次。

你知道，如果我给你一个 C 语言的问题

C 语言中有一些语法问题你永远不会忘记，也不会再犯错。

是的。

这就是其中之一。

比如，用机器码编程有哪些局限性

作为一名程序员？

最大的问题是你必须完全按顺序编写代码

因为至少在 6502 这个版本中

你无法在之后添加内容

你只能在末尾添加内容。

某种程度上，这就像在编程磁带一样。

你用机器语言构建过的最复杂的东西是什么？

呃，应该就是那个游戏了。

我是说，在汇编语言方面，我做过不少复杂的东西

但在实际的机器语言层面，我想那款游戏可能是我唯一真正——你真的亲手开发过一款游戏？

算不上多出色的游戏，但它确实能运行。

好的。

好的。

然后你就把它删除了。

我做到了。

好的。

你是什么时候第一次爱上编程的？

当你意识到，这——这是件特别的事情时。

对我来说，这分两个阶段。

我始终清楚地知道，这些机器令我心驰神往

从 TRS-80 Model 1 开始，我唯一的愿望就是骑车去那里，花更多时间与它相处

我也确实这么做了，可以说是在尽可能透支我的热情

另一个顿悟时刻，我想是在大学二年级或三年级时，当我意识到

我热爱编程，但我完全不知道自己将来要做什么。

是要去捣鼓某个录像机上的 12 点闪烁显示

还是去开发操作系统？

毕业后究竟要做什么，我完全没有头绪。

但我热爱我所做的事。

"所以，我觉得那给了我很大的安慰。

就像，此刻我在做什么其实并不重要

因为我就是喜欢做这些事，所以。

..

你会找到解决方法的。

是的。

只要跟随这种直觉指引——我就知道自己找对了方向

最终，没错。

是的。

好的。

你高中辍学了。

是啊，这可不是最明智的选择。

好的。

但你最终重返校园并在学业上取得了巨大成功

而且总体来说，作为一名程序员也很成功

作为开发者，作为软件的创造者。

呃，你是怎么找到方向的？

能说说那段辍学的经历吗？——嗯。

.

.

然后又是怎么重新找到方向的？

我其实并没有真正辍学的时刻。

你去的次数越来越少，直到某天意识到：要是我突然出现会很尴尬，因为已经太久没去了

很快你就会彻底不去了

这就是你从高中辍学的方式

所以如果你发现自己正走上这条路

别那么做了。

呃，但我确实就那么做了。

所以现在我没在上学，得找份工作

于是我在 7-Eleven 便利店和油漆仓库之类的地方打工。

在 7-Eleven 工作其实挺有意思的，我觉得这个岗位会轮换给那些足够聪明、能胜任夜班的人，因为夜班要处理所有会计和行政之类的工作

但这些人选择在 7-Eleven 工作都有各自的个人原因

嗯，我就是其中之一

因为我没有高中文凭

在 7-Eleven 工作期间有哪些难忘的时刻？

呃，也许你，呃

觉得这份工作最难的地方是什么？

对我来说最糟糕的时刻大概是——我是说

我被持刀抢劫之类的事

这些都挺刺激的，但最糟糕的是

对我来说最痛苦的部分是测油井倾斜度

要用一根大约 15 到 20 英尺长的木棍，上面标着英寸和英尺的刻度

你把量油杆放进油箱，再抽出来测量汽油液面位置，因为当时没有电子传感器。

嗯哼。

我正在这么做，第一次尝试时

量油杆脱手滑落，我赶紧重新抓住

结果手上扎满了木刺，当时零下 40 度的低温让这糟糕透了。

哇，天哪。

嗯，然后我意识到，"我不想一辈子都做这个。

" 我明白这一点，所以。

..

好的。

于是你站在那里，手里扎着木刺，动弹不得。

在某个瞬间，我突然对自己的生活有了顿悟

下一次我要以不同的方式生活。

三秒后我才意识到这个念头有多荒谬

对吧？

那一刻我真正意识到：必须做出改变。

尽管我已经 21 岁了，我还是去见了

呃，我们当地高中的校长

我问他："能让我重新入学吗？

" 他回答说："不行，你年龄太大了，而且我们也没有名额。"

"这是他最主要的原因。

而我说："好吧，从现在到那时

总会有人退出的。

所以你会有位置的。

那么假设你有空位。

我能回来吗？

" 他很和善，允许我回来

于是我补上了需要的那三四节课。

是啊，你知道的，如果我们能多停留一会儿

慢慢抽离出来。

这是你可以用大脑做的一件奇妙的事。

你会意识到，你不必随波逐流做大家都在做的事。

而这正是个危险的认知。

因为，某种程度上，你必须融入社会才能完成某些事情。

没错。

而如果你意识到，其实不必随波逐流

那么，你的人生要么会精彩绝伦，要么将举步维艰。

问题是，这个过程让你只做了一个小决定。

"我今天就不去上课了。"

"是的。"

这就是你做出的全部决定。

# Chapter 2

你会意识到，你不必随波逐流做大家都在做的事。

而这正是个危险的认知。

因为，某种程度上，你必须融入社会才能完成某些事情。

没错。

而如果你意识到，其实不必随波逐流

那么，你的人生要么会精彩绝伦，要么将举步维艰。

问题是，这个过程让你只做了一个小决定。

"我今天就不去上课了。"

"是的。"

这就是你做出的全部决定。

但当你重复多次，实际上是在做一个更大的决定。

嗯哼。

这就是问题所在。

所以最好明确做出决定。

..

如果你想以非标准的方式生活

最好明确做出重大决定，然后就可以停止前行了。

是的。

呃，别让自己犯那个——那个——那个错误，它迟早会找上你的。

是的。

好的。

后来你回来了，最终上了大学，作为学生非常成功，

而你以前并不是那么好的学生。

没错，我高中时是个糟糕透顶的学生。

甚至在我大学第一学期时，我仍然没太当回事，因为几何 90 这门课老师仁慈地让我及格了

这门课相当于我 12 年级没上的几何课的补修课程

这让我感到后怕，因为我意识到只差 1%——或者说全凭那位放我过关的教授的仁慈

我差点就在这里断送了自己的整个大学生涯

幸运的是，这些成绩不计入成绩单，因为它们只是补习课程。

于是我在新学期获得了重新开始的机会，这次是真正为自己而学，一切都变得不同了。

关于如何成为一名成功的学生，你有什么建议可以分享吗？

理想情况下，你应该能找到学校里某个你真正喜欢的方面

无论是艺术，还是计算机科学

无论是工艺课，还是其他任何课程

所以去上这些课吧，坚持完成那些困难的内容，因为这比以后不得不补要容易得多

这话从 50 多岁的人嘴里说出来当然轻松

15 岁左右的时候很难说出口，但是——确实。

.

..

这很有道理。

好的。

你加入微软的故事是怎样的？

我们是怎么从 7-Eleven 便利店一路走到微软的？

是的，这是个巨大的跨越。

当时我重返校园，记得是在大学的第三年

暑期我在电话公司打工，负责将他们 UBNET 系统转换为 TCP/IP 现代网络协议

实际上就是更换硬件卡件，然后排查配置问题

系统不再允许 Lotus 运行，因为它比从前少了 1 万，现在真不是从事计算机工作的好时候

但我还是坚持在做。

午餐时分，我坐在美食广场，周围都是些上了年纪的人和百无聊赖的人，我正在读一本买来的书

嗯，书名是《微软或比尔·盖茨与微软硬盘的诞生》

我认为这是标题。

这是一本很棒的书。

它只是实事求是地记录了微软的崛起历程

包括公司的运作方式、内部文化以及员工风貌。

..

我正在读这本书，完全被它迷住了，因为它描述的地方正是我心之所向

但我身在萨斯喀彻温省，又能怎么办呢？

最终我采取的行动是，通过一个叫 HyperCache 的项目半工半读完成学业

这是为 Amiga 计算机设计的文件系统缓存

因为 Amiga 电脑开箱即用的功能有限

而且它表现相当不错，于是我开始整理用户登记卡

那时候每张 4x6 英寸的卡片都需要用户填写姓名、地址

如果有电子邮箱的话还要填写邮箱地址

他们提交后，会收到更新通知等等。

..

我翻遍了整个技术栈，寻找任何带有微软邮箱地址的人

结果只找到大概三四个人

我就直接给他们发了冷邮件说

"嘿，我是萨斯喀彻温省的一名操作系统专业学生，正在寻找机会。

"我不太记得当时具体说了什么

但有个叫阿利斯泰尔的人，阿利斯泰尔·班克斯，他回复我说

"我认识个人可以帮你牵线联系"

" 是他帮我牵线搭桥的，我想

联系到了一个叫本·斯利夫卡的人，他对我进行了电话面试

最终想雇我在暑期从事 MS-DOS 方面的工作

就这样我得到了这个机会。

你靠自己的力量完成了学业。

..

跟我讲讲 HyperCache 吧。

你开发了一款软件——堪称硬盘的瘦身程序。

这款软件对足够多的人确实有用，以至于他们愿意为此付费？

确实赚了不少钱。

我是说，我卖出了几千份——没错。

.

..

每份 20 美元或 40 美元。

..

大概就是这个价。

那个程序是用什么语言编写的？

C 语言。

C 语言。

所以还用了些汇编语言。

..

实际执行数据进出缓存的核心代码仅有 68 行

汇编语言

其余部分都是用 C 语言编写的

好吧，这就像是...

文件系统 IO？

设备块 IO。

因此，任何从驱动器处理的块都会先经过我的缓存

这是一个 N 路组相联缓存，它会尝试匹配驱动器的几何结构并基于此进行预取

你知道，试图一次性读取整个轨道

类似这样的事情。

当时尝试把你的软件推广出去是什么感觉？

比如，你在哪里、如何能找到客户？

是啊，这挺有意思的。

我记得最早是在 Usenet 和一些 Amiga 论坛上

发帖说"这是我的试用版，30 天免费试用

看看你喜欢哪些功能"，后来有几家零售商开始进货销售

我记得当时我和现在的妻子一起坐在她的车里

她有一部手机，因为她父亲非常担心她的安全

那是 80 年代末，她车里装着

车顶有天线，后备箱里还有个大大的机箱

整笔交易。

但我们接到一个

呃，软件零售商的电话，他们想以 20 美元的价格购买 50 份

对我来说这就是一千美元，在 1989 年或不管哪一年

这是一件大事，所以最终不少公司直接采购了大量库存。

让我们回到那个时代，那是个非常有趣的时期，比尔·盖茨和微软正如日中天。

你认为为什么当时微软能在软件和个人计算领域占据主导地位，

并且在之后的很多很多年里都保持着这种优势？

当时，那是我参与过的最为强大的精英团队集合

而我也曾在学术界和工业界有过一定经历

并且

..

你知道，当你在普通计算机公司工作时

那个真正懂行的家伙

他那个更聪明的朋友？

他八成在微软工作吧

所以当你到了那儿 就成了小地方来的大人物

你以为自己懂得很多，突然间

你发现自己所处的环境让你觉得

"呃，我还是别开口了，免得显得很蠢"

嗯。

好的。

那比尔·盖茨本人呢？他又是怎样的？

你认为比尔·盖茨的哪些特质促成了微软的成功？

我认为他对自己梦想的追求始终不懈

这个梦想正是他早年提出的口号：让每个家庭、每张办公桌都拥有一台电脑。

这是一种非凡的执着。

他是个聪明人，而且极其坚定

他雇佣了与他同样聪明甚至更聪明的人来协助执行

他打造了一台几乎不可阻挡的智力机器去创造

可以说是非常简单的产品

MS-DOS 绝非复杂的产品

但它正是当时市场所需要的

是的。

我的意思是，MS-DOS 改变了游戏规则

而你加入的正是那个团队

MS-DOS 团队，我记得你是在 Windows 95 发布前加入的 - 是的。

.

.

发布之前。

嗯，给我讲讲 MS-DOS 的故事吧。

MS-DOS 的成功可以说对微软的成功起到了关键作用。

是的，在 DOS 之前，他们主要是一家语言公司。

他们为许多电脑开发了 BASIC 语言，还拥有 Fortran 编译器和 Pascal 编译器

这类产品，但他们让 MS-DOS 成为每台 PC 标配的协议，实际上确立了他们的行业标准地位

这个优势让他们得以在之后几十年里持续获益

在一定程度上，他们算是幸运地碰上了这个机会，而从另一方面来看

他们这么做确实很聪明。

..

因为我听说他们并没有向 IBM 收取太多费用

但将其确立为标准确实在长期发展中给他们带来了优势。

呃，那时候的 MS-DOS 还没有图形界面。

你能简单说说 MS-DOS 到底是什么吗？

它本质上是个命令启动器。

就是你输入命令名称来操作

它会检查该路径是否在当前目录或特定的文件夹路径中

并将其加载到内存中，如果存在则执行

这就是 MS-DOS 90%的功能

它现在拥有环境变量和一些复杂性，还内置了一个小型脚本语言

但本质上它只是一个允许你操作的操作系统外壳

呃，利用计算机的资源

比如硬盘或 CPU，但它不允许你进行多任务处理。

没有图形界面。

后来，微软确实在 DOS 5 中为编辑器和 QuickBASIC 等程序添加了基于文本的图形界面。

我相信，当时确实有一个 DOS shell

它在 MS-DOS 4 中算是一种图形化的文件管理器

0.

所以他们尝试过这个方案，但主要还是命令行界面

D-它能进行通信吗

呃，外部设备，比如驱动程序和那些东西？

那么，MS-DOS 这个操作系统有多庞大呢？

嗯，它受限于最初的 x86 指令集

这限制了它只能使用 640K 内存，然后——没错。

.

.

在那基础上还有各种临时解决方案来实现高内存，甚至进一步扩展内存。

而且，呃，要让任何程序在不占用基础内存的情况下运行，都需要费尽周折。

是啊，我是说，你——所以你是在 MS-DOS 系统上编程的。

那——那是什么感觉？

那里有什么有趣的细节？

就像你说的，有内存限制——640

呃，千字节。

是的。

640K 是永远可用的最大内存

所以这不是操作系统开发者能随意使用的资源，因为你所用的正是用户无法获得的。

因此，如果你不必要地消耗了 10K 资源，那么...

..

全球每台机器都将因此减少 10K 可用资源

这确实是项重大责任。

这是比尔·盖茨的真实语录吗

他说过"没人会需要超过 640K 内存"这句话？

是的。

是的。

不，这不是他说的

好的。

虽然常被归到他名下，但并非事实。

呃，好的。

那么，你在实习期间以及加入 MS-DOS 团队后，有哪些特别有意思的工作经历可以分享吗？

我最初接手的工作之一就是负责 SmartDrive

这个磁盘缓存程序，因为我对磁盘缓存比较熟悉——嗯。

.

..

并且为它添加了 CD-ROM 缓存功能，因为这项技术当时还是新鲜事物。

CD-ROM 驱动器那时才刚刚——才刚刚问世。

微软书架(Microsoft Bookshelf)是少数几个能在其上运行的应用程序之一。

正如你所想象的，如果处理得当，为 CD 设置缓存可以将其运行速度提升数十倍。

所以，这——这是一个显著的性能提升，也是值得投入的工作。

嗯，其中更重要的部分是将大量 SmartDrive 以及最终的双倍间距压缩引擎迁移到所谓的高内存区域。

嗯哼。

在不深入探讨技术细节的情况下

在 x86 架构上，存在某种机制，我相信

称为 A20 线。

我可能搞反了，或者有 50%的几率猜对

但如果你启用了 A20 线

那么你的内存指针会在 1MB 标记处回绕

嗯哼。

如果没有，它们就不会。

因此，它会继续在内存中向上增长。

所以你可以通过将段寄存器和偏移寄存器组合成一个大于 1MB 的数字来重写上方内存

这样你就获得了额外的 64K 空间，将代码放入其中，然后只需在低内存中放置跳转到该代码的存根即可。

这样你就能从机器中再榨取出 64K 内存

我们为几款产品都采用了这种做法

..

我当时完全不懂什么是高端内存，因为我之前是 Amiga 程序员，在加入之前从未写过任何 x86 代码

# Chapter 3

那么你的内存指针会在 1MB 标记处回绕

嗯哼。

如果没有，它们就不会。

因此，它会继续在内存中向上增长。

所以你可以通过将段寄存器和偏移寄存器组合成一个大于 1MB 的数字来重写上方内存

这样你就获得了额外的 64K 空间，将代码放入其中，然后只需在低内存中放置跳转到该代码的存根即可。

这样你就能从机器中再榨取出 64K 内存

我们为几款产品都采用了这种做法

..

我当时完全不懂什么是高端内存，因为我之前是 Amiga 程序员，在加入之前从未写过任何 x86 代码

所以...

..

所以，能参与这样的优化工作真的很酷

是的。

那么，Windows 的情况如何？

当时 Windows 95 也在并行开发中

就在那个时候。

你有机会和那些人交流吗？

我实际上在 Windows 95 上工作了大约三四个月。

我当时在 COM/OLA 团队负责演示缓存功能

就是当你插入一个

比如 Word 或 Excel 电子表格或图表到 Word 文档时的功能

你不想每次都要加载 Excel 才能渲染它

因此有一个增强型图元文件的呈现缓存，我当时就在做这个

这个功能随 Windows 95 一起发布，但我在加入微软约六个月后就转到了 Shell 团队

从那时起，我就开始从事 NT 系统的工作

好的，那 95 是什么？

NT 是什么？

呃，Windows 95 是 16 位 Windows 3.1 的升级版，

而 3.1 是 Windows 最早流行的版本。

它增加了 32 位支持、VXD 驱动程序、一系列新技术以及全新的用户界面。

这在当时是具有革命性的。

人们甚至彻夜排队，

就为了购买这款产品。

能否带我们回到那个时代，解释一下为什么 95 相比 3 是一个巨大的飞跃？

1？

当时苹果已经有了图形界面。

呃，Windows 3。

1 拥有图形界面。

W- 为什么 Windows 95 是一个如此巨大的飞跃？

我不想让它像开始菜单那样基础

但我认为- 。

..

这是其中很重要的一部分。

当我第一次看到它时，我就知道——是的。

.

.

我无法具体说出它有何不同和出色之处

但我意识到我想成为其中的一部分

这就是我开始编写一个后来演变成

呃，zip 文件夹的 shell 扩展程序的原因。

嗯哼。

但我当时只是对新 shell 着迷

所以最终我加入了将那个 shell 移植到 NT 系统（也就是今天的 Windows）的团队。

你会说那是有史以来最伟大的操作系统吗？

什么是有史以来最具影响力的操作系统？

对我来说，Windows 95 会排在第二位。

我认为 OS/360 将是第一名。

好的，有意思。

因为你可以用一台机器在 1962 年写一个 COBOL 程序

跳进你的时间机器，去波基普西启动一台 IBM z17 大型机，今天就能运行它。

而他们这么多年来一直在这么做。

就是这样。

而且这些都集中在商业领域，我们作为普通消费者很难接触到

但我认为它对商业领域的影响，可能就像 Windows 95 对家庭用户的影响一样深远。

然后对我来说，Linux 可能排在第三位。

我把 Linux b-标为比 Unix 更强大

但这并不成立，因为没有 Unix 就不会有 Linux

不过 Unix、BSD 等系统的影响力

主要还是在学术领域。

这是程序员为程序员打造的作品。

就这样，Linux 诞生了。

..

我的意思是，它是以最大规模体现开源精神的典范。

明白了吗？

它几乎创造了一个社区，并且形成了一种编程精神

这种精神延续至今。

确实如此。

确实如此。

规模确实很重要。

是的，现在服务器端已经实现了渗透

我不确定这是否达到了 System/360 的成就水平

但它几乎无处不在，所以。

是的。

这个世界。

..

我是说，这是宇宙中不为人知的秘密

它运行在 Linux 系统上。

好吧，那么，呃，跟我讲讲那些日子

呃，你的工作日。

那时候的工作日是什么样子的？

回到，呃，回到 MS-DOS 和 Windows 95 时代？

带我了解一个高效的工作日。

好吧，你刚来上班就得先下载通讯录

当时微软员工规模在 1 万到 1.5 万

人之间，我们全都使用 MSMail 系统

我们刚淘汰了那台绰号"猪小姐"的 PDP-11 主机

该公司运营的是 Whizmail 系统，而我们现在使用的是 MSMail。

但 MSMail 有一个固定的地址簿，每位用户每天早上都必须下载，而当有 10

《Immersive Translate》

我认为当时我们使用的是 10 兆比特的网络

所以你第一个小时都在下载通讯录

这总是让人很沮丧。

但你会利用这段时间查看夜间"压力测试"过程中可能发生的崩溃

所谓 NNT，就是让所有闲置的机器整夜运行测试，试图让自己崩溃。

如果他们设法让系统崩溃，就会通过串行电缆连接到另一台机器的调试器，你可以连接到那台机器远程调试崩溃的系统。

你来了之后，他们会先对错误进行分类处理

比如，开始菜单出现了崩溃问题

我们就会把这个任务分配给戴夫。

所以你进来的第一件事

就是连接，因为得把那台机器还给它的主人。

..

并解锁机器。

这就是你每天的第一个小时。

基本上是对夜间压力测试出现的漏洞进行分类处理

然后这个时候，可能又要回到编码工作

遗憾的是，80%的时间都在修复漏洞

尤其在我的职业生涯中更是如此

我在移植代码和修复漏洞。

我没有编写太多新代码。

而且存在一些例外情况。

我私下写了很多新代码来释放压力——嗯哼。

.

..

从日复一日为他人代码修复漏洞的繁琐工作中解脱出来

这是绝佳的学习机会

所以你在这方面投入了大量精力

..

在微软期间，你主导了大量的移植工作

呃，这是什么？

将 Windows 95 代码移植到 NT 系统？

是的。

我们把整个 Windows 95 的用户界面都移植到了 NT 系统上

这意味着首先需要将其转换为 Unicode 编码。

所以原本 8 位的现在都变成了 16 位

指针也是如此。

..

转换代码时确实相当混乱

你可以想象得到。

能否为我们解析移植过程中涉及的内容？

这就像闯入别人家里，翻遍他们的物品，看到他们不想让你看到的抽屉里的东西。

是的。

你会发现所有好东西，墙上挂着的漂亮画作

也会在床头柜里发现一些令人不安的东西。

呃，我看到过那种代码，大概

有 200 多个字符那么宽，里面还夹杂着

各种脏话和咒骂，不过

..

到我离职的时候，这些代码已经全部被清理干净了

但这并不总是世界上最专业的代码。

没错，因为你必须检查每一行代码。

逐行检查，这样你就能看到所有内容。

是的。

是的。

我是说，这就是程序员的故事。

你认为。

..

你写了一段代码，以为永远不会

永远不会被任何人看到，但有时

很多时候，这段代码会被很多人看到——是的。

.

..

五年后的你，包括你自己在内，都会受到影响。

你自己审视自己写的代码。

好的。

那么，跟我讲讲 Windows NT 吧。

那也是一次巨大的飞跃。

是的。

它基本上是一个全新的设计。

于是他们找来了数字设备公司的戴夫·卡特勒

他曾为他们开发过操作系统，包括 VMS 和 RSX-11。

我记得是在 Prism 和 Mica 这两个 DEC 西部的项目被取消后，他就过来了

所以当时有一整个团队的人，他们的项目都被取消了

基本上他们中的一大群人后来都加入了微软

具体交易细节我并不清楚

但他们全都出现了。

于是你有了戴夫·卡特勒、马克·卢科夫斯基这些来自 DEC 的顶尖高手

他们基本上是从零开始，但也以 OS/2 作为起点

不过 OS/2 是用汇编语言写的，而 NT 将用 C 语言编写

他们能在多大程度上利用其中任何一点

我实际上并不清楚,但至少他们已经有了一个可以起步的系统。

你说过戴夫·卡特勒(Dave Cutler)是那个人

Windows 背后的智囊。

呃，你能解释一下吗？

Dave Cutler 是内核架构的设计师。

相当于 Linux 领域的 Linus。

就是 Dave C。

在 Windows 的世界里。

戴夫·C.

好的。

而且，呃，并不是说没有其他人做出贡献

当然，其中很大一部分功劳也属于他们。

但是，呃，我认为他是背后的推动力，而且一直以来都是如此。

他现在依然是。

..

我想他现在 85 岁了。

他仍然每天写代码。

他是微软院士。

据我所知，他至今仍坚持上班工作

所以...

..

呃，你能说说这家伙的天才之处吗？

比如，他的思维方式有什么特别有趣的地方

与他共事过，与戴夫·卡特勒打过交道吗？

这家伙聪明绝顶，但也像个农民一样务实。

他会像监工一样盯着你，确保事情不仅完成还要做对，绝不允许任何垃圾代码混进他的操作系统。

嗯哼。

他对此零容忍。

在这方面，他可是个不折不扣的严师

但我认为这非常值得，因为这让微软开发人员经历了巨大的范式转变，体验了戴夫·卡特勒带来的数字设备公司式领导风格。

那么，你从中领悟到了什么关于

大型协作软件开发团队的成功之道呢？

因为微软当时拥有许多杰出的工程师

正如你所说，比如戴夫·卡特勒

他们不得不，呃，他们必须创建全新的系统

其中许多系统我们至今仍在使用

从那段经历中，你对优秀的软件工程团队有哪些领悟？

首先我认为工具决定一切

人当然是最重要的——这个我们视为理所当然

但工具集确实是关键因素

如果我们当时能继续并获取，事情就会容易得多。

我们当时用的是 Diff，你知道

手动差异对比——嗯。

.

..

来进行支持和维护之类的工作，所以能够分叉一个源代码分支对我来说是一种前所未有的奢侈体验。

所以那时候，这功能会非常实用。

你走过去隔壁时，有哪些难忘的对话？

呃，就是和其中一些人聊了聊。

.

.

我不在场时，有人在抱怨

团队来了一位新人，正在开发一个我记得叫 Cairo 的项目。

Cairo 本将成为下一代操作系统

它将会非常精美，拥有比 Windows 95 更先进的全新用户界面

但最终未能实现。

但在他们开发过程中，有个参与 Cairo 项目的家伙在 NT 开发公开邮件列表上大放厥词

（那可是有几千人订阅的列表），说 NT 系统的启动体验简直烂透了

而收到的回复是

呃...一场史诗级的骂战，真希望我当时保存了那些邮件

我就不点名是谁写的了。

他心里有数，不过嘛...

..

那封愤怒的邮件堪称艺术杰作

就像偶尔能看到 Linus 发的那些关于内核事务的咆哮邮件一样

所以情绪非常相似。

当时有没有那种，比如，知识分子的辩论

类似——哦，确实有。

.

.

工程师之间有过一些激烈的争论？

是的。

..

是的，争论变得激烈起来。

所以你会看到才智之士相互较量，最终对某些人来说技术优势反而成了次要的，重点变成了要在辩论中胜过对方。

而且往往发展到这个阶段时，争论就已经失去建设性了

但这种情况确实屡见不鲜。

是的，我见过这类争论

比如在编程语言设计社区里，像吉多·范罗苏姆

# Chapter 4

.

工程师之间有过一些激烈的争论？

是的。

..

是的，争论变得激烈起来。

所以你会看到才智之士相互较量，最终对某些人来说技术优势反而成了次要的，重点变成了要在辩论中胜过对方。

而且往往发展到这个阶段时，争论就已经失去建设性了

但这种情况确实屡见不鲜。

是的，我见过这类争论

比如在编程语言设计社区里，像吉多·范罗苏姆

这些社区的领导者们，会被搞得精疲力尽，因为人们总是...

..

你几乎会忘记自己的使命，开始对细节吹毛求疵。

我是说，工程师们聚在一起，就会为最愚蠢的

比如语法上的细微差别

没错。

好吧，这...

..

我不该说愚蠢，但确实是很小的...

..

语法精妙之处。

现在来说，这是针对编程语言的。

我确信在特定内核组件上存在内部争论。

是啊，有个我输掉的争论至今还让我耿耿于怀。

我认为。

是吗？

还有，呃...

..

因为我还是觉得——那是什么？

.

..

我当时——嗯，就是我们在做外壳的时候

我们当时正将所有内容从 ANSI 编码转换为 Unicode 编码

因此每个原本 8 位的字符现在变成了 16 位

现在的问题是，我正在 MIPS 架构机器上工作，因为我要将其移植到 RISC 平台

而你不能使用未对齐的地址，但如果你处理两个 ID 列表

即路径组件，取 C 盘反斜杠的那个部分

取 Windows 目录的部分，再取 System32 的部分

然后将它们拼接起来，但如果字符数是奇数

此时在这个结构中就处于奇数地址位置

这需要我付出巨大的工作量来开启异常处理程序

进行非对齐字节访问以提取字符串并手动复制

这简直需要，毫不夸张地说，在 R-MIPS 机器上从这个 ID 列表中读取字符串的工作量是正常情况的百倍到千倍，因为它没有对齐。

所以我正在争论，尽管 Windows 95 的开发已进入后期阶段

他们已经发布了一个测试版，我们现在应该确保 ID 列表始终是偶数个字节，或者采取某种变通方法确保这种情况永远不会发生，这样引用它们的代码

在其他繁重的工作上，就可以快速推进了。

结果演变成了一场争吵，甚至有点私人恩怨

那次我输了。

时至今日，我依然认为

那些在 Windows 上运行的代码比它应有的速度慢了成千上万倍

只是没人关心这个，毕竟它已经够快了

不过...确实如此。

.

..

可能会快很多。

是的。

所以，呃，是的，我是说，你提到了 MIPS 和 RISC。

你需要对底层有多深入的理解

对于你正在构建的东西，需要理解软件甚至硬件的最底层？

要理解 NT 系统以及之前 MS-DOS 系统运作的所有抽象层次才能成功，这具体是指哪些层面呢？

嗯，你大概有一半的时间都得花在调试上

而且大部分调试时间都得泡在纯汇编语言的调用堆栈里，因为那时候根本没有源代码级调试

嗯哼。

完全不像现在用 Visual Studio 那样——碰到断点就自动弹出源代码窗口

你可以查看源代码

但你始终看到的是机器输出的原始汇编转储。

所以即使你用 C 语言编程，调试时也要看汇编？

是的，百分之百。

哎呀，老兄。

这确实有点麻烦。

哦。

更棒的是，我们正在处理四种指令集架构，因为我们要兼容英特尔

呃，MIPS、Alpha 和 PowerPC，具体要看它在哪台机器上崩溃

你掌握了完全不同的指令集——没错。

.

..

还有寄存器等等。

..

因此你对调试所有四种架构都相当熟练

不过，呃，我在 MIPS 架构上经验更丰富

所以 MIPS 相关的工作会找上我。

那真是场耐力考验。

我是说，你能谈谈那个吗

那种调试的折磨，特别是没有调试工具时的调试

没有配套工具怎么行？

我是说，这其实就是编程的本质。

..

现在的年轻人啊。

..

呃，编程并不全是为了创造美好的事物

对吧？

这，呃，也跟解决问题有关。

是啊，我可以说职业生涯中 20%的时间在创造，80%都在调试和修复问题。

是的。

而且，我算是因此有了个能解决问题的名声

所以这类事情总会找上我

因此我会花更多时间去做这件事。

我并非那种以创意 UI 设计闻名的天才，能不断涌现各种新点子

所以我专注于修复那些不够美观的设计，但在这方面我确实变得非常擅长

我并不介意这种工作，除非遇到那种情况——你花了太长时间去解决某个问题，却不知下一步该怎么做，既搞不懂为什么它不工作，也不明白它之前是怎么正常运行的，或者无论你碰巧处于哪种困境中

而且，你知道，经过一整天这样的工作后

这可能会相当折磨人。

是啊，调试代码简直是种酷刑。

这真的可能非常、非常困难。

我觉得这里面还有心理层面的因素

坚持不懈的成果。

我觉得那些——你知道的

花你一天时间的问题，最终会以两种方式之一解决。

要么是像"哦，多了个分号"这样，然后你终于发现了——是的。

.

..

或者这是跨线程单元公寓机制导致的可怕问题，确实很难搞

但这问题可能双向出现。

呃，我遇到过一个 bug，其实不是我的问题

而是任务管理器本身的 bug 偶尔会显现出来

它会显示"CPU 总使用率超过 100%"。

这在任务管理器中看起来相当荒谬

所以我花了很长时间试图解决这个问题

我曾向内核开发人员反映过这个问题，但他们并不以为然

比方说，内核开发者们都是特殊的一群人，他们对我的用户态问题不感兴趣。

我的代码里可能确实有问题，对吧？

他们可能说得对，但这次情况并非如此

我对此非常确定，于是我在代码中不断添加断言来确保

将材料相加的预备步骤从未超过 100，且最终总和也从未超过 100

而最终，它从未触发断言

但偶尔我们会遇到这个 bug，人们仍然能看到它

于是我在断言里加上了我的电话号码

我当时就想，"如果你看到这条消息

就给戴夫打电话，号码是 425-836-我的电话号码。

" 呃，最后我们确实——

..

在我之前提到的实际压力调试器中捕捉到了这个情况，当时恰好有人连接着调试器遇到了这个问题。

我们最终查明这实际上是一个内核记账问题，而非任务管理器的问题

所以在我证明这确实是内核问题后，他们就在内核中修复了它

而且，呃，你可能会认为我们会删除我的电话号码

但我们只是把它注释掉了，所以它被发布出去，并出现在所有泄露的 NT 源代码中

..

这真是太棒了。

.

.

我是这样找到任务管理器代码的：在谷歌搜索我的电话号码，它会反向查找——哦

这太有趣了。

.

..

NT 源代码。

你能谈谈关于断言（assert）的事情吗？

顺便说一句，我记得你在推特或其他地方说过，如果你想非常认真地对待你的断言

你会把自己的家庭电话号码

嗯，加在里面。

是的。

确实如此。

确实如此。

有点开玩笑的意思，因为这可能不是最明智的做法

但——不，确实不是。

.

.

你会发现

但我的意思是，assert 本身就已经是件严肃的事情，因为它会完全停止所有执行。

这就是我为什么如此

如此喜爱 assert 的原因 - 它们会终止一切，迫使你解决问题。

是啊，我对断言也有点执着。

我不会对那些我希望不成立的事情做断言。

我只对那些明知不可能成立的事情做断言。

我认为这才是断言的真正本意

所以我虽然是在强调显而易见的事实，但当这种情况发生时

这就是个 bug，简单明了。

这不是警告。

有趣的是，它经常能帮你找出问题所在，因为如果你到处都加上断言——

..

你能很快找到问题的根源。

是的，我倾向于...这不是我想建议你回头再补充的内容。

这是你在编写代码时应该反复做的事情。

在构建过程中就要这样做。

因此对于每个函数，如果你有前提假设

比如我知道这个指针永远不会是空值

好的，我们会插入这个断言

如果你知道这个计数总是小于两倍的字节宽度

断言这一点。

别害怕，因为如果它断言了

它其实是在帮你。

我觉得有些人会害怕，你知道

就像你驶出十字路口时，可能觉得会有来车却没看左边那样。

是的。

或许我不会那么做。

但，呃，情况就是那样。

人们不敢坚持己见，是怕会被解雇。

嗯，不，你想知道吧。

你提到了任务管理器。

显然，我们得聊聊这个

你开发的传奇程序——Windows 任务管理器。

告诉我你构建它的每一个细节。

什么是 Windows 任务管理器？

所以 Windows 任务管理器是一种可以查看系统中哪些应用程序正在使用计算机资源的方式

包括硬件资源、CPU 使用情况和内存占用

哪些进程可能占用过多资源、被锁定或出现异常

并允许你终止这些进程。

因此它既是检查工具也是修复工具。

是的，它会列出所有进程。

我是说，这简直就是个传奇级的软件。

这太疯狂了。

我们啊，你就觉得这是理所当然的。

就像开始菜单那样，对吧？

是的。

这简直，太天才了。

很幸运，我参与开发过许多大家耳熟能详的项目

而任务管理器正是这些个人兴趣项目之一，最初只是为满足自己的需求而开发

最终被公司采纳为正式产品

于是我开始在家编写代码，逐步实现了基础功能框架

我当时使用的是注册表中的 HKey Current Perform 或 HKey Performance 来获取统计数据，因为在家办公时无法访问内部 API

而且我不会因为在家办公就调用这些

嗯哼。

后来当我把它引入内部系统后

就能直接调用 NtQuerySystemInformation 或 NtQueryProcessInformation 这类函数快速获取真实数据了

这使得它能够成为一个非常快速且响应灵敏的应用程序。

因此人们开始依赖它，因为我编写时就力求让它尽可能可靠。

我并不担心功能的多寡。

我只确保其中包含我想要的一套基本功能。

我得到了想要的一切，但希望它能真正健壮可靠

而且要小巧

最初的版本大约有 87K 大小

好的。

你能谈谈开发这样一款不会卡死的软件需要哪些关键要素吗？

呃，你不会做太多假设吧？

如果你打算通过 shell 调用来运行应用

那可能是个基于 TCP/IP 共享的网络路径，需要 90 秒才会超时

所以每当你执行这类可能耗时的 AP-API 调用时

你最终会需要在单独的线程上完成这个操作。

因此应用程序会变得稍微复杂一些，因为所有操作都是多线程的。

好的，那么你当时用的是哪种编程语言？

C++。

那么这是针对 Windows N-NT 的吗？

是的。

好的。

那么它最初是在 NT 4 中发布的。

0.

好的。

那么这个程序有哪些有趣的细节呢？

因为你必须让它尽可能简单

同时还要尽可能保持稳健。

呃，有哪些有趣的优化方案，比如

你不得不实施的？

有几个现在看起来有点硬核的东西我...

我居然做到了。

我根本不想链接到 C 运行时库

所以我确保绝不调用任何运行时函数

也没有链接它们，这让我省去了 C 运行时库的开销

96K 左右，所以你知道，只要调用任何 C 函数，应用体积几乎就会翻倍。

因此我小心翼翼地避免这样做

但实际上我是在用 C++编写

它更像是带对象的 C 语言。

但是，呃，为了让它能运行起来

我不得不手动从调度表里剔除所有对象构造函数之类的，因为没有运行时环境帮你处理这些。

所以你用的这个编译器是没有自带运行时的

不过我不想在技术细节上钻牛角尖

但这需要大量额外工作才能让它运行起来

但当你做到时，它的类型会变得非常小

大概就是这个大小——是的

# Chapter 5

因此我小心翼翼地避免这样做

但实际上我是在用 C++编写

它更像是带对象的 C 语言。

但是，呃，为了让它能运行起来

我不得不手动从调度表里剔除所有对象构造函数之类的，因为没有运行时环境帮你处理这些。

所以你用的这个编译器是没有自带运行时的

不过我不想在技术细节上钻牛角尖

但这需要大量额外工作才能让它运行起来

但当你做到时，它的类型会变得非常小

大概就是这个大小——是的

.

..

程序的大小

呃，追踪每个进程及其 CPU 占用率有哪些有趣的地方呢？

比如，每个、每个进程以及该进程占用了多少 CPU？

我见过最酷的事情之一是

虽然我不想说汉明码是我发明的

但我其实是在不知道汉明码存在的情况下，自己琢磨出了类似汉明码的东西

所以任务管理器里的每一列和每一行都有一个标记位来表示是否变脏

然后我可以用和汉明码检查 X/Y 列相同的方式，找出哪些行发生了变化

遍历并确定哪些部分真正需要重绘

因此，任务管理器效率极高，它与 ListView 控件协同工作

该控件能够实现逐帧遍历并仅重绘发生变化的单个单元格的功能。

这使得绘制速度极快，调整尺寸时也能保持流畅

而尺寸调整可能是我最大的...呃

使用该应用的个人目标。

因此你可以调整到任意尺寸，它依然能正常工作

即便你有 32 个 CPU（这在当时是不可能的）

它只会绘制，我认为，八个图表然后就会自动换行

但是，呃，它至今仍能正常工作，所以我对此还挺自豪的。

这太不可思议了，嗯，你有机会亲眼见证了任务管理器的演变历程。

从某些方面来说，它其实变化并不大。

或许只是界面变得更美观了些，以适应不同版本的 Windows 系统。

但这基本上是一样的东西。

功能上非常相似，呃，报告更多是因为他们添加了 GPU 和散热之类的东西

这些确实是很不错的功能。

而我们那时候还没有这些功能

所以...

我是说，你能说些什么，你知道吗

比如，有没有进行过重构，还是基本上还是原来的代码？

呃，据我所知

原始代码大部分都还在那里，所以有绘图代码层、暗黑模式代码层以及其他各种代码层

XML 模式代码，这使得文件大小从 87K 膨胀到了 4MB

但这就是我们生活的世界，没办法。

是啊，这就是那种你开发完就直接搁那儿的软件。

..

一旦安装就固定在那里，简直就像开始菜单一样

那我敢肯定如果你去掉它

人们会发疯的。

是啊，这个可能会被锁定一段时间。

是的。

或许还不错。

是的，我原以为 Clippy 也会如此

不过，呃，Clippy 总有一天会卷土重来的

好吧，那么，当时

你还创造了哪些堪称传奇的软件呢？

所以你参与了《太空军校生三维弹球》的开发

至少负责移植工作

是的。

于是他们来到我的办公室说

"嘿，你在忙什么呢？

我告诉他们我在做什么

他们说："那么，接下来三个月你想怎么安排？"

我回答："我还没想好"，他们接着问

"你想移植《Pinball》吗？"

"

..

我曾见过《太空军校生弹珠台》作为 Win95 平台的独立游戏

它有几个不同的弹球台，是个很酷的游戏

所以我当时还挺兴奋的

他们想要的是为 NT 系统制作一些视觉特效来展示 NT 系统的能力

那时需要高速图形处理，或者至少是响应迅速的图形。

于是我尝试了一下，但很不幸

大部分代码是用汇编语言写的

而我用的是 MIPS 架构，所以不得不先用 C 语言重写代码，这样才能移植到所有不同的平台上。

而游戏的核心是一个庞大的状态引擎。

它就像一个巨大的 switch 语句，

如果我没记错的话，里面大约有 50 个条目。

是的。

而且它还内置了一个彩蛋。

解码状态的过程，就像让神经网络处理不同状态输入一样

我只是把它放在一边，当作一个黑箱来处理。

因此我的代码在此基础上运行，负责绘图、音效等其他所有功能。

但原始游戏仍在运行中。

最近有人问我：“为什么会有细微差别

物理效果与 Windows 95 版本略有不同

但代码应该是相同的，因为我非常努力地想要保持原样

其实是因为我有个 bug，导致它会尽可能多地绘制每秒帧数

在现代计算机上可以达到 5

000 帧每秒的弹珠游戏性能，因为这是个相当基础的游戏。

因此所有物理效果都是以 5

000 次/秒而非 30 次/秒的频率进行插值计算

或者你在旧版本中能得到的任何东西。

所以你得到的可以说是更好的，或者至少是不同的物理效果。

但他们后来修复了这个问题，所以。

..

为-为什么这个游戏这么棒？

我认为这是个很棒的设计。

我的意思是，这并非我的功劳。

这完全归功于 Cinematronics 团队的那些人。

但原版游戏的设计确实非常出色。

这和我实际拥有的弹珠台实物《Black Knight 2000》非常相似

而且两者的布局也确实很相近。

我不确定它是否受到了前者的启发。

总之这是款不错的游戏。

是的。

有时我会想到像俄罗斯方块这样的游戏，那些图形相当原始却能让

呃，让大批人感到兴奋的游戏。

或许正是大批人的这种兴奋感造就了游戏的非凡魅力

所以当，呃，当许多人一起兴奋地讨论它时

那种会深深印在你脑海里的东西。

但那可是经典游戏之一。

我是说，就连——就连像纸牌和扫雷这样的游戏。

我的意思是，有一代人可是在扫雷上打过仗的。

对吧？

原来这些程序被内置在操作系统中并非作为游戏，而是作为教育工具来帮助你学习使用鼠标。

哦，有意思。

所以纸牌游戏是为了教你如何进行拖放操作。

是的。

而扫雷大概是为了练习右键点击。

我觉得你放了个对的东西，一个标志或某个物品。

是的。

我不是扫雷高手，但每个游戏都能教会你一些东西。

扫雷高手。

这挺有趣的。

是的。

哇，这个我还真不知道。

这挺有意思的。

而且确实如此。

但我不知道在这些游戏上花了多少个小时。

就像无数人花费了无数时间在这些游戏上

我曾经在孩子学校志愿教授计算机科学课程

就是给三年级小朋友上的那种课

其实更像是教他们登录操作而非真正的计算机科学

但是，呃，这些孩子的老爸们都在微软上班，所以你做什么他们都不会觉得厉害

不过有个孩子发现我参与过《弹珠台》开发后，他们的反应就变成了

"哇！你做过《弹珠台》？

"因为那时候所有孩子都知道这个游戏

现在这些孩子可能已经过了那个年纪，他们不知道这事了

但曾经有那么一小段时间。

..

呃，你卡在 Windows 激活那一步了。

你说得好像这是件坏事似的。

嗯，一切取决于你看问题的角度。

那就讲讲这个故事吧。

什么是 Windows 激活？

那个...你是怎么参与进来的？

所以他们是在 XP 开发后期才找到我的。

我，我不确定测试版是否已经发布

我认为测试版应该还没发布

但他们原本计划采用 Office 的激活码机制，然后将其适配到 Windows 系统中，为 Windows 添加激活功能。

但负责此事的人已经多次疏忽，导致这事不可能完成了

因此我有了个能快速解决问题的名声

所以他们来找我说："你能在 XP 发布前搞定这个吗？"

"我不确定，但我会尽力。"

于是在负责 DRM 的团队和研究产品密钥数学算法的团队协助下

我们赶在 XP 发布前及时完成了。

我不知道它对收入的实际影响有多大

但当你开始强制执行许可证密钥时，我想影响会相当大。

我很好奇那到底是什么。

我不知道。

因为这也很烦人。

确实如此，尤其是当你必须通过电话激活时。

而这正是我们不得不随身携带的

沉重负担，必须将数据上传到清算中心

将批准你密钥的后端系统

你必须提供所有硬件参数

比如内存大小、硬盘空间以及硬件密钥绑定的各种参数

还有产品密钥，并且需要将其编码成字母数字组合，以便有人愿意通过电话读取

如果你觉得通过电话进行产品激活很痛苦

你能想象在电话那头工作的人是什么感受吗？

我是说，每天听 8 小时产品密钥，这工作简直让人麻木。

是的，这是 Windows 面临的挑战之一

这对我来说一直是个令人沮丧的点

但我从设计角度能理解，这确实非常困难

因为有太多不同类型的人在使用 Windows。

但随着时间的推移，Windows 越来越倾向于那种...（令人不适的）方向，这实在令人沮丧

算不上高级用户，我应该说

这就是为什么 Linux 一直都很棒。

但从激活角度或任何配置方面来看

它确实，确实是个让人相当头疼的问题。

最近我比较受欢迎的一期节目是关于为什么不能移动 Windows 任务栏的。

是的。

我原本不知道，但人们对这件事的愤怒情绪是显而易见的——确实如此。

.

.

你只是想把它放在左侧或顶部，但现在却不行了

这对他们的存在简直是一种冒犯。

在一定程度上我能理解这一点。

嗯，这是让我非常不喜欢 Wi- 其实 Windows 11 有很多方面都让我不满意

其中之一就是你无法像以前那样自定义任务栏的位置

这些本该是最基本的自定义功能。

我们能直接配置这些吗？

因为只要给高级用户这个选项，就会有一小部分人超级喜欢这个操作系统

这对你没有任何损失，给他们这份自由就好

不过，这确实是有代价的，对吧？

因为，呃，把开始菜单放在左边、顶部或右边的自由...

..

确实增加了渲染开始菜单、布局标签页等功能的代码复杂度

现在出现 bug 的可能性大大增加

而且需要维护的代码量也大幅上升

所以你很可能需要更多开发人员或再招一名开发者

或者占用开发者的一部分时间

那么问题就变成了：在什么情况下，满足一小部分用户的特殊需求仍然是值得的

而我...我只是...这些决定并不由我来做

但我能从双方的角度来看待这件事。

我认为就像那些制作电影的人一样，他们会插入非常微妙的细节，只有少数人会意识到这些细节的存在

这最终会带来丰厚的回报。

随着时间的推移，会建立起一种声誉，这种声誉会产生非常强大的连锁效应

呃，我觉得它确实有

它带来了诸多好处，尤其是在招聘优秀软件工程师方面。

就像你为这个地方营造了一种氛围

嗯，把爱倾注到每个细节中

这确实满足了高级用户的需求

这照顾到了开发者的需求

我认为微软正越来越朝着这个方向发展，通过 GitHub 平台以及收购 GitHub，专注于服务开发者群体

但在 Windows 用户界面方面，拜托，还差得远呢

# Chapter 6

这最终会带来丰厚的回报。

随着时间的推移，会建立起一种声誉，这种声誉会产生非常强大的连锁效应

呃，我觉得它确实有

它带来了诸多好处，尤其是在招聘优秀软件工程师方面。

就像你为这个地方营造了一种氛围

嗯，把爱倾注到每个细节中

这确实满足了高级用户的需求

这照顾到了开发者的需求

我认为微软正越来越朝着这个方向发展，通过 GitHub 平台以及收购 GitHub，专注于服务开发者群体

但在 Windows 用户界面方面，拜托，还差得远呢

一些自定义选项。

比如，在 VS Code 中，你可以自定义所有东西。

为什么，为什么我们就不能自定义开始菜单呢

对吧？

呃，那个……任务栏啊，嗯

还有 Windows 界面的每一个细节

我……我不……我不……

..

也许你说得对，可能这确实会增加代码的复杂度。

我怀疑事实并非如此。

我敢打赌就是这样。

我猜这是他们重写开始菜单时的一个排期决策。

我认为他们重写是因为它与旧任务栏不同。

嗯哼。

有人接到任务：“你必须交付这套功能集”

如果去掉左侧、顶部和右侧的布局，以及两行标签页等所有花哨功能

我就能提前四个月交付

" 当然这未必是正确的决策

但我猜这可能是推动它的原因之一。

而且他们现在的发布周期完全不同了。

以前是这样的。

..

除非有人长期负责某个组件并使其趋于稳定，否则你很难看到太多精雕细琢的工艺。

对吧？

但如果它总是频繁变动，每个版本的用户界面都在更改

就永远达不到那种精致程度。

虽然我认为这个用户界面已经相当不错了

但是。

..

我同意。

..

嗯，是——是挺好的，但我认为这——我觉得这——我只是不认为这是个时间安排的问题

我觉得这是个工艺水平的问题，就像你用一个任务管理器那样。

如果里面有个伙计或姑娘能真正负责起来的话

那些对此充满热情的人——对他们来说，这是值得骄傲的事情

经过一段时间，他们能够在短时间内独立创造出真正美妙的东西。

没错。

就像我-我觉得如果你有庞大的软件工程团队，带着经理和会-会议安排之类的东西

是啊，好吧，那-那你的论点就成立了。

但如果-如果你允许那些创造酷炫玩意儿的个人自由发展，让他们做自己的那种副项目

这方面谷歌就做得很好。

..

他们试过那个方法了，对吧？

谷歌，没错。

对，就像玩着来，搞点疯狂的操作，然后我们会整合进去。

我们会——我们会尝试把它整合到整个生态系统中。

我不知道。

我不知道，呃，呃，因为就像

对我来说，作为一个独立开发者，能创造出像开始菜单或任务栏这样的定制功能，是莫大的快乐

因为你知道会有数百万人使用它

呃，那个-那个任务栏。

然后你就知道可能有成千上万的开发者会用它来定制任务栏的每一个细微之处。

你知道这能带来多少快乐吗——让人们通过某种 JSON 配置来定制任务栏的某些功能？

好吧，但你怎么回应史蒂夫·乔布斯式的观点——提供定制选项意味着我们没能为你找到最佳解决方案？

又或许本就没有标准答案，这四个选项都同样正确

我对此一无所知。

没错。

呃，我一直觉得——我很高兴苹果公司存在

这是件美好的事，那种对设计的热爱理念非常棒

但我始终认为他们的——Windows 系统创造了这种反差。

Windows 的核心理念是成为适用于各类设备的操作系统

它本应——更确切地说——被设计得更加开放

随着 Windows 子系统的推出，微软在 Linux 兼容性方面正不断向这个方向迈进

这整个开发者友好型生态系统正是如此

这-这-界面设计应该体现那种精神

我认为。

没错。

但-但我确实认为这可能会带来一些安全漏洞

不仅仅是代码复杂性的问题

因为 Windows 系统正遭受持续攻击

是的。

要确保其安全性非常困难。

言归正传，你还为 Windows 开发了 ZIP 文件支持功能

就像我提到的，开发了 VisualZIP，最终演变成了我们现在所熟知的 ZIP 文件夹。

讲讲这段故事吧。

那是我在家又写的一款软件

然后，呃，当时我和妻子外出，我记得是个周日下午

我们开车转悠，那是 1993 年，我们还住在公寓里

就是想看看外面的房地产市场行情。

有个家伙，他有套漂亮的三居室房子和一辆 93 年红色克尔维特敞篷车

火炬红，就停在车道上，那房子正在挂牌出售

我记得标价大概是 30 万美元，那时候我根本不可能凑出这笔钱

甚至连首付都拿不出来

于是，我拿过传单，把房子的图片剪下来贴在了显示器上。

这就是我晚上坚持写作的动力

因为我回家后主要做两件事

一是宣泄工作中只能修 bug 无法释放的创作欲

当时我想赚点外快。

于是，我写了个 shell 扩展程序。

在我真正加入 shell 团队之前

我就开始了这个项目，正是基于当时 MSDN 或 MSJ 上的一个示例，激发了我加入 shell 团队的兴趣

我看到的关于如何操作的 MSJ 示例

..

调出一个文件夹

其实，当我掌握了最基本的调出文件夹模板后

为其添加 zip 文件支持就只是逐步完善的过程

于是，我就把它作为共享软件发布了。

我记得那时是 19。

95 年还是 29。

95 年，卖出了大概几百到几千份吧。

有一天，我正在准备工作时接到一个电话

电话那头是位女士，她问："你是戴夫·普卢默吗？"

我回答："是的"，她又说

"你就是那个开发 VisualZip 的人吗？"

我说：“是的，”然后她说

“你好，我是微软的贝琪，我们想请你过来谈谈收购的事。”

我说：“好的，你们在哪个楼？”

她回答：“什么意思？”

我说："那好吧，我会过来的"

然后她说："不行，你得先跟差旅部门谈，还得跟法务部门谈

这些都需要提前安排好

" 我就觉得："我完全搞不懂"

我们在同一个地方工作。

为什么我就不能顺便过去呢？

"我不确定我是不是原话这么说的——是的。

.

.

但经过几分钟的来回交流，我们俩都意识到她不知道我在那里工作——是的。

这挺有趣的。

.

.

他们只是冷不防地给作者打了个电话，结果发现那个人就是我。

是的。

这挺有趣的。

于是，他们给我开出了一个收购条件

这种事情就是，如果我不接受这个条件

那我现在的选择要么是继续卖自己的版本然后离开微软

或者我可以停止销售自己的版本，转而为微软工作。

这两种选择都不理想。

我是说，我当然想保住现在的工作，

但也希望能保留这份收入来源。

另一个选择是接受他们的报价

这正是我所做的

于是我买了辆 93 年的二手红色科尔维特

..

然后你们得以继续内部开发？

我做到了。

因此我们移除了许多功能

没错，简单来说，因为它包含加密功能以及当时压缩软件常见的一些特性

但这些特性可能并不适合 Windows 系统，而且在那时

加密技术就像军需品一样受到管制，不能随意添加到操作系统的各个部分

所以我们移除了这类功能。

我认为去掉多卷支持是为了简化操作。

呃，你能谈谈 zip 格式的总体情况吗

就是 zip 的历史背景，你知道的

还有压缩技术？

整件事。

是的，这其实起源于 BBS 时代

那时人们通过调制解调器拨号上网，从 BBS 下载试用软件和共享软件等资源

为了压缩这些文件，可执行文件的体积能缩小约一半。

其他东西压缩效果更好，但有个叫菲尔·卡斯特的人开发了名为 PKZIP 的 MS-DOS 命令行程序——嗯。

.

..

这个程序能够压缩软件

他的人生轨迹相当悲情，但这个程序在整个 PC 行业变得无处不在

几乎所有人都在使用它。

所以当 Windows 系统问世时，它无法直接打开 zip 文件

但人们使用这种压缩格式已有十年之久

这直接推动了将 zip 支持功能内置到 Windows 系统中的需求

确实，这也成为了延续至今的基础软件功能之一

嗯哼。

而且它还有很大的改进空间，但

要知道，这代码是在单核时代写的

所以它没有任何多线程处理能力，而你用的可是 96 核的 7995 处理器

结果呢，解压文件时它只用其中一个核心。

你在微软还参与了哪些很酷的项目？

还有哪些软件项目？

我参与了 Windows Media Center 最初的原型开发工作。

原来如此——我明白了。

.

..

我记得是在 96 年的时候

那时候我们还没有

任何资源来源，只有一张光盘，里面存着《狂暴鲁道夫》的 MPEG 视频文件，我记得还有原版的《南方公园》视频——嗯。

.

.

就是圣诞特辑那部，按现在的职场标准来看内容都相当不合适

但是，呃...

..

这就是我们当时掌握的全部内容，直到我们真正...

..

我们让他们在屋顶安装了卫星天线

一个 DSS 系统，就是那种 18 英寸的卫星天线

因为我们无法将有线电视接入大楼

于是我们搭建了这个最终看起来很像 Media Center 的系统

它是 Windows 的远程观看用户界面

这样你就可以坐在台式机前用遥控器操作

你知道的。

..

现在的开始菜单在 20 英尺外看起来效果不佳

所以...

给我讲讲那个臭名昭著的蓝屏死机的故事。

这种情况发生在 Windows 别无选择时

当内核进入发生非法操作的状态时

例如某个设备驱动程序试图写入不属于它的内存区域

或者试图重复释放同一块内存

这些情况根本不应该发生，而内核此时别无选择

它会关机以保存你的工作 - 嗯。

.

.

而且，准确来说不是保存，而是防止进一步损坏

然后它会显示蓝屏，并且

呃，根据你的设置打印出堆栈信息。

有时候只是一个悲伤的表情。

..

在当前 Windows 系统中。

是啊，我在想最早出现蓝屏的是哪个版本的 Windows。

所以，Windows 3 就有蓝屏了- 嗯。

.

..

但这与 Windows NT 的蓝屏完全无关。

而我曾与编写 Windows NT 蓝屏代码的人交谈过。

他叫 John Vert，呃，他选择蓝底白字的原因

我曾以为，一直听说是由于实验室里

你可以走过一个实验室，那里有 50 台电脑都在运行压力测试

"哦，那台蓝屏了

它——"嗯哼。

"

..

崩溃了。

事情没那么简单。

只是他构建所用的 MIPS 固件采用了蓝底白字的配色方案

而他使用的编辑器 Visual SlickEdit 也采用了相同的配色方案

所以你可以编写代码、启动系统、然后看着它崩溃

并重新启动，全部采用相同的配色方案。

为什么你认为电脑的许多问题都可以通过关机再开机来解决？

我认为电脑在长时间运行过程中会发生两件主要的事情。

一是内存被占用后未被释放。

是的。

于是这些数据就堆积在堆内存、交换文件或其他地方

导致系统运行变得迟缓。

另一个问题是，代码会进入开发者未曾预料或没有充分测试的状态。

嗯哼。

或许这种状态很罕见，但此时记事本、Word 或 Excel 已经陷入这种异常状态

你的系统真不靠谱。

所以如果你直接重启、关机或者重新启动它

就能得到一个全新状态，也就没有内存泄漏了

基本上这能掩盖很多问题。

# Chapter 7

是的。

于是这些数据就堆积在堆内存、交换文件或其他地方

导致系统运行变得迟缓。

另一个问题是，代码会进入开发者未曾预料或没有充分测试的状态。

嗯哼。

或许这种状态很罕见，但此时记事本、Word 或 Excel 已经陷入这种异常状态

你的系统真不靠谱。

所以如果你直接重启、关机或者重新启动它

就能得到一个全新状态，也就没有内存泄漏了

基本上这能掩盖很多问题。

而且，呃，几款处于滑稽状态的软件以复杂方式相互影响时，就会形成一种"元滑稽状态"——整个系统就开始表现得有点诡异了。

是的。

然后不知怎么的就修好了。

在微软的那段时间里，你见过哪些最好和最差的代码？

有哪些漂亮的代码和丑陋的代码让你记忆犹新？

说到漂亮的代码，有两段让我印象深刻。

一个是通用的内核部分，当你深入到 Windows 内核时——嗯。

.

.

在实际的 NT API 等底层接口中，代码写得非常好

而且其编写标准是用户层面所达不到的

至少在用户端并不常见。

..

在用户端，我记得见过最酷的代码是由一个叫 Bob Day 的人写的命名管道实现，它消除了对共享内存的使用。

Windows 95 在所有 shell 进程之间有一个大的共享段，用来存储所有 shell 共用的东西。

我们不想这样做。

在 NT 系统和工业级应用中，共享内存是个糟糕的主意

因此他提出了一种使用命名管道的方法

而且，呃，我记得当时还做了代码审查

走查这段代码时确实令人印象深刻

这就像是那种

"噢，要是我刻意去做可能反而做不到的事"

你见过最厉害的程序员是谁？

你知道吗？

我不认为有特定某个人。

我遇到过许多优秀的程序员。

但我要讲一个让我印象非常深刻的故事

那是在我刚进公司的时候

我在那里待了大概六周，正在研究我之前提到的那个 OLE Presentation Cache。

当时我用的是 Windows 95 系统，把 Excel 嵌入了 Word 里

我正用内核调试器调试时，调度程序出了些问题。

你知道，我当时就在现场调试

我几乎没写过什么 x86 代码，正盯着 Windows 调度程序试图找出我的程序死锁的原因。

最终我卡住了，这有点超出我的能力范围，于是我给 Windows 95 内核团队发了封邮件说

"能派人过来看看吗？

"大约十分钟后，这位开发人员悠闲地走进来，手里只拿了一根零调制解调器线缆

目的是将我的两台机器连接起来，以便它们能互相调试，以防我没有调试环境

但它已经设置好了。

于是他们坐下来，开始使用 WinDbg

这是个糟糕透顶的调试器。

这简直是被诅咒的。

但是，呃，他们对此非常非常熟练，正飞速地遍历调用栈，检查内核中的所有对象，试图找出谁在等待什么、为什么会出现死锁、哪些信号被触发而哪些没有。

这就像一场水银般灵动的调用栈芭蕾在我眼前飞掠而过，我看着这一切，感到相当震撼——虽然我自认是个不错的程序员，

但眼前这位简直是调试大师，我从未见过如此精彩的表演。

然后，大概过了五分钟，我听到

"哦，我明白了。

"然后他们就断开连接起身离开了。

那位就是后来成为微软杰出工程师的 Laura Butler。

我觉得她可能还在

我不确定她是否已经退休

但是。

..

所以她某种程度上为我树立了榜样

你知道的，就是微软开发者在调试时的样子，以及内核开发者的工作方式

因为我接触的女性开发者样本实在太少了，甚至不知道她们是什么样子的。

嗯，但标准确实非常高

所以...

..

生活中很少有比那些在任何领域都极其出色的人更让我欣赏的了

不过在工程领域，越是底层技术越让我着迷

例如，他们能够运营或维护基础设施

计算机基础设施

不是单台计算机，而是多台计算机协同通信与工作

这些人简直是魔法师。

没错。

制作过程令人振奋。

..

就像观看一位技艺精湛的木匠工作。

..

我热爱任何做到极致的事物。

是的。

看着就赏心悦目。

看到人类能够实现这样的成就真是美好。

即便是在土木工程领域，当我看到

比如桥梁，需要多少人齐心协力才能建成

而现在每天都有数百万人使用它。

有时，通过软件你无法直观地看到受某事物影响的具体人数。

所以想象一下，Linux 及其各种开源组件影响了多少人

这些构成了 Linux 系统的开源组件。

这太不可思议了。

而任务管理器就是这类软件的一个例子

这么多年来究竟有多少人使用过它，总计多少次？

这太疯狂了。

可能有——大概几十亿次使用吧，对

每月大约二十亿次之类的。

.

..

二十亿。

差不多那时候

我看过那些指标，确实很高。

哦。

觉得不可思议吗？

确实。

不过我最欣赏的是——相信你也有过这种体验——有时候设计一个软件时，它很复杂，你在脑海中构建出它的运行方式，理清所有组件如何协同工作，知道它将如何执行和流转，最终当你编写代码时，代码完美实现了你脑海中的构想。

嗯哼。

而现在，我脑海中的那个想法已有数十亿份拷贝，运行在数百万乃至数十亿人和机器上

这本身对我来说就非常酷。

与其说是虚荣心作祟

不如说，呃，我对此感到惊叹吧。

呃，这些年来你的编程方式有什么变化吗？

现在我更注重代码的严谨性和复杂度了。

以前的做法就是一直写代码，

不停地写，直到某个时候才回头去整理优化。

现在，我换了一种方式来写代码。

我尝试先写出非常清晰的基础框架代码，然后再逐步完善，因为我参与过太多自己或他人负责的项目，那些项目的代码最终变得一团糟，根本无法修复。

所以有时候前期投入的工作最终会带来回报

你明白吗？

这些年来你用过哪些编程语言？

你主要用哪些技术？

对我来说，主要是 C++和汇编语言。

直到现在，C++还是你的主力语言吗？

是的，目前我完全专注于 Lua 和 Python

但这只是我正在做的副业项目

所以...

..

能聊聊你转向 Lua 和 Python 的经历吗

还有，呃，你最喜欢 C++的哪些方面？

我正在做的是想开发一个能玩《暴风》游戏的 AI。

就是那个古老的雅达利游戏，《暴风》。

而且，呃，这款游戏其实我保持着世界纪录。

然后，呃。

..

你能带我去玩这个雅达利游戏吗

《暴风雨》？

好的，雅达利《暴风雨》。

这是什么类型的游戏？

这是 1980 年的一款 3D 矢量游戏。

好的。

而且这是一款非常复杂的游戏。

你可以实现 360 度全方位移动。

屏幕上共有八发子弹。

大概有 11 个敌人。

还有尖刺陷阱。

所以这是个相当复杂的游戏。

不像那种...你懂的

做个《Pong》之类的游戏。

好的。

而最终我所做的，首先是取出机器里的 ROM 并逆向工程那段代码。

于是我了解了《Tempest》中所有代码的位置及其功能，

包括零页变量的位置以及各部分的存储位置。

嗯哼。

是的，有一个。

所以什——哦，哇。

这几何感很强啊。

..

好的，那个——呃，你能给我讲讲玩法吗？

看，那正是我在玩游戏呢。

这真的是你在玩吗？

就是我本人。

Dave 是最高分保持者，你马上就能看到了

就在顶部中央那里。

能-能给我解释一下我看到的是什么吗？

嗯，这是一个 3D 几何世界。

本质上就是把 3D 太空侵略者游戏融入了一个形状中

敌人从管道的中心向外围下降

它们各自有不同的行为模式

..

哇。

简而言之，这是一款相当复杂、难以精通的游戏

..

而我想看看能否让 AI 来玩这个游戏

于是，当我找出游戏中所有有趣部分在内存中的位置后

我将它们添加为参数，并构建了一个 Lua 应用程序，用于在游戏运行时从内存中提取所有内容

将它们整合为参数，通过套接字发送到 Python 端

然后 Python 端进行强化学习训练。

我在使用一个双重 DQN（Dueling Deep-Q Network），我觉得——嗯。

.

..

两个，呃，一个头一个尾的双重结构

它们会互相追逐，现在能达到约 36 关的水平

这已经远超大多数人类玩家了，但目标是要打通 96 关

所以它还有很长的路要走

但是。

..

嗯，你是那个红色射击物吗？

是的。

你在控制那个红色射击物吗？

好的。

有哪些选项？

你只需要顺时针或逆时针转动就能射击了？

是的。

所以你有一个旋转旋钮——嗯哼。

.

..

这是个光学旋转控制器，配有开火按钮和紧急情况下使用的超级电击器

不过，呃，就这样了。

开火并旋转，基本上就是这样。

好了，让我们回到你最爱的 C++。

你最喜欢 C++的哪些方面？

为什么这些年来你一直坚持使用它？

因为它能让我把最爱的 C 代码封装进类里。

我不是很...

..

好吧，其实——你真是个 C 语言高手。

明白了，懂了。

是啊，我确实是个 C 语言程序员。

好的。

虽然我写两种风格的 C++代码。

我写的是完全不使用指针的现代 C++20

也不用字符串，或者说不用字符数组

所以就是这样。

..

在我看来，它基本上和 Rust 一样安全。

嗯哼。

或者我用带类的 C 语言编写，这是标准的 C 语言，但

你知道的，加上多态性和封装性，这就是我大部分代码的样子。

但是，呃，我尝试兼顾两者。

让我问问你关于我们之前跳过的那段漫长时期。

呃，你在离开微软后这些年开发了很多软件

包括在微软期间兼职做的和离职后开发的

呃，很多成功的软件。

呃，你旗下有家公司叫 Software Online

因为过度骚扰用户升级而惹上了麻烦

我想——没错。

.

..

就是升级这事。

我看到的就是这些。

这一切是怎么回事，呃，

你从那次经历中学到了什么？

就是这样。

..

除了，比如说，家人健康方面的担忧，你知道的

当孩子们生病时，那是我生命中最可怕的时刻

而在此之前的那段时期却是最令人振奋和激动的，因为当时我在微软工作期间

我编写了所有这些共享软件工具，并私下里出售它们

卖了一个给微软，就像我们之前聊的那样

然后他们开始做得非常出色

接着我发现了网上的横幅广告，于是我用信用卡在一个网站上注册了账号

我记得那个网站叫 FastClick，你可以说

"我愿意为每次横幅广告展示支付这么多钱。"

这是我的横幅广告。

"然后系统就会轮播展示它。"

而且我没有设置上限。

我周一回来时发现已经花了差不多 1 万美元

在横幅广告上。

我当时就想："天啊，这要怎么跟我老婆解释？

这是个程序漏洞，是个错误

是我的错。

"是的。"

我查看了销售额，发现已经达到了约 38 美元

的销售额，我当时就想

"天啊，那我只需要在某个时候扩大规模就行了"

接下来的几年里，我基本上都在做这件事。

我们之所以陷入麻烦，是因为司法部长介入调查，他们掌握了...

..

说实话我震惊了，因为他们提出了 12 项诉讼主张，其中 10 项简直荒谬至极

作为一个自闭症患者，在我看来...

我无法认同。

就好像，我明明知道这十件事绝对不可能是真的。

我们为什么还要在这里讨论它们？

而他们只关心那两件可能是真的事

可能属实的两种情况是：它是个 30 天试用版，30 天到期后

# Chapter 8

接下来的几年里，我基本上都在做这件事。

我们之所以陷入麻烦，是因为司法部长介入调查，他们掌握了...

..

说实话我震惊了，因为他们提出了 12 项诉讼主张，其中 10 项简直荒谬至极

作为一个自闭症患者，在我看来...

我无法认同。

就好像，我明明知道这十件事绝对不可能是真的。

我们为什么还要在这里讨论它们？

而他们只关心那两件可能是真的事

可能属实的两种情况是：它是个 30 天试用版，30 天到期后

如果你继续使用而不购买或卸载

它会每天提醒你一次，而不是每十分钟就弹窗

但每天只提醒一次，或者每次启动电脑时提示

每天最多一次。

而总检察长认为这太频繁了

相当于垃圾信息。

嗯哼。

因此我们同意将其限制为每周一次

我相信。

而且，你知道的，必须得有一个一键卸载的按钮。

所以我们做了这类事情。

另一个是，在那个年代，当有人购买一款软件时

即使他们在线购买的是数字下载版

他们仍然满心期待实物光盘会寄到家中

所以在 2001 年——准确说是 2003 年

那时候如果你购买软件

人们预期会收到一张光盘

因此我们将默认设置为通过光盘交付，数量是 3 张

95 或 4

95 张额外光盘，而且很明显这是个复选框选项，且默认勾选为将光盘邮寄到您家中

因为我们发现如果不这样做

就会接到大量电话，人们会一直等待

他们下单后，两周后打电话问："我的光盘在哪？"

而我们只能回答："听着，我们根本没订过光盘。"

"好吧，全部取消吧。"

我不想要了，因为我等不及了。

"于是我们收到了大量退货，而且我们最初没有附送光盘，后来决定还是把光盘加进去"

但这在华盛顿州属于先验性违反否定确认账单原则的行为，因为你实际上默认给了他们更高的购买价格

在软件用户关系方面如何？

这很有趣，比如，多久用一件事来打扰用户才合适。

对吧？

如果你从不提及任何功能，用户可能永远发现不了他们真正想要的东西。

没错。

但如果提及得太频繁，又可能会惹恼他们。

是的。

你不想让他们不得不去处理或购买什么，或者采取某些措施来摆脱它。

这是让我感到困扰的事情之一

嗯。

..

我认为 Windows 至今仍在一定程度上这样做

它会通过询问某些问题来打扰我

比如，“你想要这个吗？”

“就像，嗯，它。”

..

例如，我真的不喜欢用我的微软账户登录 Windows。

没错。

我觉得现在这基本上是强制要求了。

我觉得这实在是没办法。

但问题是，他们搞得好像不这么做就特别难。

简直就像他们觉得能糊弄我似的。

..

真的感觉像是被耍了，没法按自己意愿行事。

没错。

喜欢这样。

..

我得想，“好吧，我得点击跳过”

然后它会问，“确定吗？”

就像我得费很大脑筋才能做这件我本不——

你知道，作为一个...作为一个界面

你明白我想做什么

你是想诱导我不去做我想做的事

而我讨厌的是...

..

..

. 这种方法可能在转化用户方面确实有效

但从长远来看，它实际上并不利于维护用户的利益

最让我反感的是那个"使用推荐设置"选项

我刚完成 Windows 升级，一步步操作时

我正在浏览这个新的对话框或向导

并使用推荐设置

听起来像是你应该做的事，但我很确定这会让你重新使用 Edge 浏览器

而且-没错

.

.

其他这些东西。

所以，虽然他们推荐了，但并不适合我

这就是难点所在。

这确实是个很好的例子。

你觉得把默认浏览器重置为 Edge 会有怎样的效果？

你认为这样做真的能赢得用户的忠诚度吗？

难道不觉得实际上你正在...

你将要创造的，不过是从某些用户群体中获得的被动忠诚罢了。

从数据指标来看，这可能会让你误以为 Edge 用户数量确实增加了

但实际上，这是长期积累的声誉损害

最终形成"Edge 就是那个你无法完全信任的浏览器"的认知

没错。

虽然这并不公平，因为我认为 Edge 确实是一款非常优秀的浏览器

但这种不愉快的感觉，仅此而已。

我不知道那是什么，而且呃——

你总不希望自己的操作系统

变成对手吧，对吧？

是的。

有时，Windows 给人的感觉就像是在与你作对。

仿佛它并非真心为你着想

这在一定程度上让我感到困扰。

我的意思是，我们都有这种感觉——当有人对你过分热情，实际上却是在推销什么时，我们总会本能地产生怀疑。

那种互动方式确实有种独特的氛围。

当一个操作系统以这种方式与你互动时，

感觉就像...

..

是的，我宁愿每年支付 199 美元购买 Windows 专业版

每月 20 美元或其他收费标准

且不会被追加销售，我的数据也不会被货币化或类似操作

所以...

..

你从中学会了如何找到平衡点吗？

是的，我现在——我是说，我现在自我意识强多了。

有些事情我会以完全不同的方式去做

特别是在广告宣传方面

我一直记得有个叫大卫·奥格威的人

他很久以前为大众甲壳虫做过一则广告

那里有一张甲虫的图片

黑白的，上面只写着

"柠檬。"

下面还有一段文字。

所以它是先吸引眼球再提供信息，我一直努力遵循这个模式

但我觉得销售产品有三种方式

你可以利用性、恐惧或贪婪

而性对软件销售效果并不理想

杀毒软件用恐惧营销很有效，但对系统优化和提速工具就不太适用了

所以我始终专注于挖掘用户的贪婪心理

比如宣传"让电脑运行更快"

"释放更多可用内存"之类的价值主张

但现在我意识到，我是以自己的认知来看待这件事的

作为一名自闭症患者，我现在能理解他人会基于自身背景知识得出不同结论

我可能无意中吓到了别人，而本意只是想激发他们的贪婪本能作为激励手段

所以如今我会对这类表达更加谨慎

这问题可能有点傻，但你觉得...

呃，Windows 操作系统中排名前三的是...

不同版本有哪些？

我个人是 Windows 2000 服务器的粉丝。

等等，什么？

真的吗？

是的。

好的。

等等，等等，什——我就是靠这个经营我的生意，还有我兄弟的生意。

我们建立了多家沙龙，全部通过 VPN 互联并使用 SQL Server 和。

..

我不知道自己是否曾体验过 Windows 2000 服务器版

那么 XP 是什么时候发布的？

2001 年。

XP 之前是什么系统？

2000 年。

2000 年。

那还不错吧？

是的，我喜欢。

我是说，它没有 XP 那种视觉上的炫目效果

但作为一个系统，尤其是作为服务器操作系统

在当时它已经非常出色了。

不过 XP 嘛，嗯...从完整性、影响力以及持续时间的角度来看

它可能是最伟大的 Windows 系统

对于消费者来说，这个操作系统

我也这么认为

它确实经久不衰

是的。

还有人仍在运行它。

我的意思是，如果还能获得安全更新的话，我仍然会在某些设备上运行它，因为它能满足我对 Windows 需求的 98%

但是。

..

确实，那太不可思议了。

我是说，九——所以 Windows 95，我可能会把 Windows XP 排在我的第一位

然后 Windows 95 排第二。

你的评判标准是什么？

个人偏好或行业影响

..

行业影响、稳定性，就在那里，存在某些类似

就像编程中存在代码异味一样

就像所有功能被协调——协调得多么完美一样

有一种贯穿始终且保持一致的设计理念

功能不多不少，既不过分简化

没错。

呃，但也不过度复杂，比如蓝屏死机的频率

所有这些方面

我不确定这是否算得上一个非常正式的应用描述

但我觉得它简洁明了

所以没有太多粗糙的边缘感

它功能明确，响应迅速

..

是的。

你说你玩老虎机，

呃，考虑到你既喜欢硬件又喜欢软件，

你是最合适的人选，呃，

老虎机是怎么运作的？

我很乐意帮你打破这些幻想。

好的。

所以——

..

我觉得有点讽刺的是，我明明知道玩老虎机总体上是个必输的赌局

但那里有让我着迷的多巴胺盛宴，还有我喜欢的炫目灯光和高对比度色彩。

所以我确实会玩它们。

但实际上内部有一个黑箱机制，它所做的无非就是生成下一个随机数，并决定结果在

呃，概率和赔付方面的表现。

然后游戏就会说："我得编个剧情来配合这个结果。"

"也许是三条杠或其他什么图案

但它们之间毫无关联。

这并非转动卷轴看它们停在哪里，然后查表确定你赢得了什么。

完全是相反的逻辑。

它判断你是否获胜

然后编造些内容来适应那个场景

这确实是在破坏所有人的体验

有一点儿

呃，运行它们的是什么代码？

我也不太清楚。

我试过深入调查并获取内部访问权限

结果发现非常困难。

他们不想透露太多相关信息

我敢肯定这算不上什么重大机密

但是。

..

是的。

因为这些本质上都是普通 Windows 电脑，只不过运行在某种我了解不多的超安全加密飞地架构上

没错，它的安全级别必须严苛到极致

对吧？

是的。

在 70 或 80 年代，拉斯维加斯曾有一项技术

他四处走动，正在为老虎机烧录自己的 ROM。

..

呃，这些设备里留有后门，所以当他维修机器时

他会直接把他的 ROM 放进去——不错。

.

.

六个月后他回来了，然后——不错。

.

..

调用后门程序。

兄弟，我太爱你了。

呃，话说回来，你还有没有，有没有其他的

你还喜欢其他类似的系统吗？

我很喜欢各种老式硬件设备。

我从事汽车修复工作，经常修理 20 世纪 60 年代的美式肌肉车

包括轿车和卡车。

不错。

而且，呃，那些老式电脑，所以我专门修复 PDP-11。

这大约是我过去六个月以来的痴迷和特殊兴趣所在

我已经组装了好几台这种古董机。

嗯，你，呃，我——我看到过

就是，你发布，呃，关于它的视频

那台 PDP-11/83。

呃，整——整个项目是什么情况？

简单来说，事情是这样的：我之前组装过好几台 PDP-11，这些年来

我收集了所有这些零件，于是决定

"不如我来组装一台能造出的最好的 PDP-11 吧"

嗯。

这就像是一场追求完美的探索

就像你会想榨干一台电脑的全部性能

我曾试图榨干一台 PDP-11 的全部性能

所以它配备了 4 兆内存，在当时算是巨量了

对，就是那边那台

嗯哼。

它有很多闪烁的灯，我还得重写 BSD 内核才能让这些灯正常工作。

..

我们在这里看到的是什么？

什么是，那个什么。

# Chapter 9

这就像是一场追求完美的探索

就像你会想榨干一台电脑的全部性能

我曾试图榨干一台 PDP-11 的全部性能

所以它配备了 4 兆内存，在当时算是巨量了

对，就是那边那台

嗯哼。

它有很多闪烁的灯，我还得重写 BSD 内核才能让这些灯正常工作。

..

我们在这里看到的是什么？

什么是，那个什么。

..

最顶部是一台 PDP-11/70 的控制面板

我们可以基本忽略这部分，然后下面还有两个底盘。

其中一个有——呃——这些不同的旋钮是干什么用的？

抱歉问了这么蠢的问题。

呃，这些旋钮——

..

他们，呃，控制着你看到的 LED 显示画面。

哦。

通常来说，你能看到数据总线和地址总线

你可以暂停机器运行，还能编辑总线上的地址

并且能用开关向内存中存入数据。

这触感，再加上 LED 灯效。

这就是你心目中电脑该有的样子。

是的。

太酷了。

简直太棒了。

那这些是什么？

这些是什么东西？

是 DU-1、DU-2 吗？

对，这是个奇怪的软驱。

这是一个使用单个步进电机的双软驱

因此两个磁头会像连体双胞胎一样同步寻道

好吧，那么，你拿这个在做什么呢？

你是想——呃——打算修复它们吗？

是的，所以我恢复了它们——它真的能运行吗？

是的。

哦，那些闪烁的灯都是真的？

没错，全都是真实的。

哇。

然后我还得重新编译内核之类的

所以我不得不学习 BSD 内核。

现在我对它已经相当熟悉了

因为你不能直接添加设备驱动

对吧？

必须重新编译内核才能添加对新设备的支持

所以你添加了一个新的磁盘控制器。

嗯哼。

是时候构建内核了，你得去找源代码和代码。

..

你能在这上面运行代码吗？

是的。

呃，你写过几本关于自闭症的书。

作为一个自闭症患者，我想知道你是否能告诉我

比如说，自闭症患者与神经典型个体

在思维方式上存在哪些根本性差异

关于自闭症思维的基础理论被称为"单轨思维"

这意味着我的大脑一次只专注于一件事

它会非常专注地完成这件事，完成后

我才能继续去做下一件事

我不是多任务处理者，而是一个连续的单任务执行者

无论如何。

嗯，自闭症通常伴随着感官敏感和重复行为

行为问题会使其加剧，如果严重到个人无法调节或适应这些问题的程度

就会成为一种障碍，这种情况可能占人口的 1%到 2%。

自闭症生活中最大的好处是什么？

嗯，我能对特定任务付出难以置信的专注力和投入。

前提是。

..

必须是我热爱的事情

这必须是有回报的事情，必须是我能不断取得进展的事情

而且所有这些条件都必须满足

就像小孩子玩火车玩具那样纯粹

我也能感受到同样的快乐

话说回来，你也提到过自己深受

呃，多动症的困扰。

是啊，还挺严重的。

所以这也是其中的一部分因素，就像

保持专注

Y-或者说真正获得专注才是问题所在

所以我很容易分心，戴着降噪耳机也能睡着，或者根本无法入睡

类似这样的事情。

但一旦我进入专注状态，就很难被打扰

这有点矛盾。

哦，这真有意思。

很难进入那种状态。

好的，拥有自闭症思维最大的生活挑战是什么？

我不知道别人在想什么。

所以我站在你的立场，以你的身份来思考这次互动会有什么想法。

是的。

这就是我能做的最好的推测，但我想大多数神经典型性人群都会有这种感觉：

"哦，Lex 可能有这样的感受，因为他这样表现，他的反应是这样，他的面部表情说明..."

这些对我来说都完全不知所云

所以我为每个打交道的人都运行一个小小的代理 NPC 游戏

所以我想这让社交互动变得有点复杂

确实可能会这样

电话交流尤其困难，因为我需要依赖很多其他线索

当对方仅通过电话交流时，我只能听到他们的声音

人与人之间许多隐含的信息我都无法捕捉

因此我在 FaceTime 上表现要好得多，当有人开玩笑时

他们可能会事后微笑——是的。

.

.

在电话里，我分不清你是在讽刺还是认真的，诸如此类

所以...

所以这可能让你这些年惹上了一些麻烦。

是啊，和我妻子之间也经常这样

在自闭症中，确实存在某种字面化的思维方式。

确实。

多年来，每当她说什么，我就会...

“但这说不通啊。

” 然后她说：“你懂我意思吧。

” 我就回：“不，我清楚你说了什么

而且我并不是在故意抬杠。”

我确实只知道你所说的内容，"但我并不具备那个。

而且，呃，我记得我们曾与一些人开会时

呃，你知道的，会议中有三四个人

而我是唯一一个自闭症患者，我会指出他们形成了这种沟通循环，而我不得不

比如，“你们得告诉我发生了什么”

“因为我真的听不懂这里在说什么”

“所以”

你告诉我与此相关的是

早期与比尔·盖茨有过一次略显尴尬的相遇。

呃，你能分享一下这个故事吗

呃，那次互动以及自闭症在这其中起了什么作用？

是的，那是我在微软实习的第一个夏天

比尔邀请了，呃，所有实习生过来。

我记得大概有 20 或者 25 个人——对。

.

..

呃，就是那年被录用的我们，去他家吃汉堡喝啤酒，就在后院闲聊。

而且，呃，那当然还是比尔·盖茨

而且那时候他已经是个大人物了，让你有点紧张。

当时我的经理本算是我的导师

他带我过去介绍给比尔认识，因为他们之前就相识

本介绍道："这是戴夫，我们来自加拿大的实习生"

在短短四个月内，他就完成了这个功能以及 Disc Copy 和 Smart Drive

"然后他列举了我正在做的所有事情。

但我停了下来，因为我心想——

..

"其实准确来说是三个月。"

我不得不打断他们，而且他们俩都有点...

“什么？

他们对视了一眼，我意识到那不是个合适的时机去...

..

纠正那家伙。

不过，呃...是的，所以你就...

小差错？

哦，真让我抓狂。

是的。

然后，你当然不会。

..

这，这可能带来的影响

在随意的社交互动中，对你来说并非小事

呃，注意到了。

我现在比以前好多了。

以前我不明白，也不知道毫无意义地在对话中插入纠正会如何影响对方、让对方产生怎样的感受。

现在我更清楚这一点了

但是。

..

对于拥有自闭思维的人，你有什么建议能帮助他们在世界上蓬勃发展？

在繁荣和财务方面，我能说的最重要的一点是：推销你能做的事，而不是你自己。

因为如果你去参加求职面试，试图用你的个性和你有多出色来打动他们

结果可能有好有坏，但如果你能带着作品集去展示

"看，这是我的 GitHub 贡献记录，这些是我参与过的出色项目

这是我实际编写的算法，这就是我的能力

" 我认为这样会让你走得更远

所以无论你是弹钢琴还是写代码。

话虽如此，在大型团队中进行软件工程

很大程度上具有社交属性

对吧？

确实如此，而这曾是我的一个弱点。

你怎么做，你怎么做。

..

我是说，关于如何解决那个小难题，你学到了什么？

我认为对我来说最大的不足是当我开始管理人的时候，因为现在你要关心他们的希望

梦想、抱负，以及是什么激励着他们。

他们的生活对我来说多少是个谜，因为我总以为他们和我一样渴望被激励、被领导、被鼓励并获得相应的回报

但事实并非总是如此。

有些人需要更多肯定，有些人只想要钱

还有些人则渴望参与重要会议并拥有决策权。

但我当时对此几乎毫无察觉，最终才明白每个你管理的人都有自己的一套动机和优先事项

而这些与我原先设想的可能完全不同。

所以我想，你可以把事情说得更明白些，通过更好的沟通方式

比如直接询问他们关心的是什么。

是的，这就是我开始直接询问的原因，因为对我来说很难委婉地推动别人到那个点。

我不擅长那种社交舞蹈

所以...

是的，这种社交舞蹈的一部分在于有很多

呃，未言明的东西。

嗯哼。

你可以大概理解，能读懂他人。

但如果...

..

你知道的，对于自闭症患者来说，这可能有点困难

所以你需要把事情说得更明白些。

另外，像讽刺、挖苦和幽默可能比较难把握。

是的。

我真想当个旁观者，看看你早期和微软打交道时的情形。

呃，我是说，一些最优秀的工程师就有这样的思维方式

所以...

是啊，我还遇到过有人朝我扔笔记本电脑之类的事

我确信那是我的错

所以...

呃，你提到了那个 10 秒钟的自闭症测试。

你能解释一下这个测试是如何进行的吗？

是的。

要知道，任何只有两个选项的测试当然都会有很高的误差率

但是，呃...

..

对整个人类社会而言，什么才是来自民众最重要的品质？

是合作还是创造力？

如果必须二选一，哪一个最为关键？

大多数神经典型性人群通常会倾向于选择合作

而自闭谱系人群则往往更倾向于将创造力视为独立解决问题的能力。

当然，这里存在一定的误差率。

所以如果你想将精确度提高一倍

你可以使用第二种测试方法，即通过询问

房间里放着 10 把椅子，有六个人进来坐下了。

还剩下多少把椅子？

现在有人会说

"四把"，但我要说"十把"，因为椅子总数还是那么多。

字面上确实如此。

我并非故意刁难，也不是要搞复杂化

但这就是我的思维方式。

是的。

所以当我看到那个问题时，答案取决于你如何作答。

所以你有多按字面意思理解事物？

是的。

对我来说，一切都很字面化。

我记得小时候，祖父在厨房里为妈妈搭建一个花盆架

他用了些大角铁支架，我当时觉得有点小题大做

我说："你觉得这个够大能放下那株植物吗？"

他说："这都能装下一匹马了。"

那时我才五岁，但实在想不明白

第一，为什么有人会把马牵进厨房

你为什么要把马放在花盆上

以及所有这些事情。

这对我来说完全说不通，显然这是个比喻说法

但在我的大半生里，我都把比喻当成字面意思来理解

所以...

呃，你提到过用情感后处理作为替代社交互动的策略，这样就可以逆向推演出

帮助你理解普通人的世界。

可以。

..

我认为这对很多人都会很有用

比如，呃，这具体包含哪些内容？

这有什么帮助呢？

所以当我遇到某人，尤其是初次见面或刚开始打交道时

比如今天和你见面后，我回家后会重新回想所有需要做选择的时刻。

通常会先回想最尴尬的场景，找出自己当时哪里做得不对。

我错过了什么？

对方当时是怎么想的？

下次遇到这种情况我该如何改进

我需要去补救或打个电话吗

那种糟糕的情况，你知道的

在极端情况下。

# Chapter 10

这有什么帮助呢？

所以当我遇到某人，尤其是初次见面或刚开始打交道时

比如今天和你见面后，我回家后会重新回想所有需要做选择的时刻。

通常会先回想最尴尬的场景，找出自己当时哪里做得不对。

我错过了什么？

对方当时是怎么想的？

下次遇到这种情况我该如何改进

我需要去补救或打个电话吗

那种糟糕的情况，你知道的

在极端情况下。

但是，呃。

..

我人生中已经发生过几次这种情况了。

就像我有一辆父亲在 69 年买的新车，后来我把它修复了。

这辆车我现在还留着，算起来我们已经拥有它 50 年了

大约 20 年前，我找人把它彻底翻新了一遍

整个修复过程持续了三年，工匠们在这辆车上投入了数千小时的精心工作。

我出去取车时仔细检查，对修复工作非常满意，不停地说

"这真不错，太棒了"

之类的话。然后我飞回家开了支票，车就被送来了。

直到大约十年后我才意识到

我有一群工匠为我的车工作了整整三年

或许我本应该对他们大加赞赏，说他们干得多么出色

但我始终没这么做，因为那并非我当时所需所求

而我对这一切浑然不觉。

于是我给经理或店主发了封邮件

我说："不知道您是否还记得

但十年前我来取车时，可能表现得不太满意

但我想让您知道，其实我对所有细节、品质等都非常认可。"

他回信说："我经常想起那一刻。"

所以我心想："现在我很高兴我提起了这件事。"

是的，人类互动中有一些微妙的细节对人们意义重大

但如果你直接询问，他们可能无法表达出来。

..

..

虽然难以准确表达，但这确实很重要，而当它缺失时

当某些东西不对劲时，这会让他们感到困扰

没错。

但要逆向分析、找出原因

对于一个可能察觉不到人际交往中这些微妙细节的人来说

这很难。

关于同理心，这也是个很好的切入点，因为社区中存在一种看法，认为自闭症患者缺乏同理心

而我完全不这么认为

呃，我只能代表我自己说

我相当感同身受。

但我认为问题出在沟通上，而且是双向的

然而，我不知道你的感受，所以在你向我传达你的经历之前，我很难对此产生共情。

而一旦我了解了，嗯，一旦我明白你内心的想法

我能对你深感同情，但其他人...

..

在此之前，我会假设你能像我处在你的位置时那样处理它

以我现在所知的情况来看

对于处在另一立场的人们，你会给出什么建议？

他们如何帮助你成为更好的朋友、更好的伴侣或更好的同事

比如他们应该如何与你沟通来提供帮助

比如提供更多信息？

是的，要非常具体，不要假设我能领会那些细微的暗示和潜台词。

所以如果你想引导我采取某种特定行为

你最好直接说"戴夫

你需要这样做"

"我今天有哪里做得不够好吗？"

还没有。

好的。

你——你——你会给我打几分？满分是十分的话。

我是六分吗？

七分？

在通信方面 - 7.

5.

.

.

.

.

浮点数。

不错。

呃，伪装，你得告诉我这是什么意思

呃，这对许多自闭症谱系人士来说是一种重要体验

什么是伪装行为？

还有，能跟我聊聊你自己关于伪装的经历吗？

掩饰行为，或许这样描述并不准确

但它本质上就是表现得像常人一样

嗯哼。

也就是说，我如何在社交场合中表现得像那些神经典型人群

或者说像其他神经典型人士那样行事

会以正确的方式接收和接受它吗？

嗯哼。

你在社交互动中所做的一切，从挥手到做面部表情，再到说话的语调

再到姿态，都是精心设计的，需要付出努力。

是的。

对大多数人来说这很自然，他们只是顺其而为

而酷酷的人做得很自然，但对自闭症谱系的人来说，你得全程假装。

呃，对，就是装正常。

Rush 乐队有首歌你知道吗？

是的。

呃，《聚光灯》——对。

.

..

这是由尼尔·佩尔特所写，而我——我只对那些已故之人进行推测，所以我感觉他可能属于自闭症谱系

嗯，但歌词大意是

"整个世界确实是个舞台，而我们只是演员

表演者和扮演者，彼此互为观众。"

他在歌中长篇大论地谈到

你知道的，无法把陌生人当朋友对待，还要强装出一副样子之类的

所以看起来他在歌中为伪装自己而苦苦挣扎

虽然我不确定，但这就是我的理解。

是的。

你将崩溃描述为一种难以承受的经历，能具体描述一下崩溃是什么感觉吗？

通常——通常是什么引发了崩溃？

一般来说，就是当你情绪上不堪重负，以至于无法再控制自己的行为

就像电影《雨人》里演的那样，当他试图登机却被强行阻拦时，就开始情绪失控

这是一次崩溃。

或者，我在某个节目上看到过，他们确实有点...

..

实际上，可能是我在媒体上见过的最佳描绘是

呃，那部主角是自闭症医生的电视剧叫什么来着？

他是个。

..

总之，有部电视剧讲一个自闭症医生，他是外科医生，最终因为自闭症被禁止做手术，而他一直梦想成为外科医生，结果彻底崩溃了，这个电视刻画得相当不错

所以...

实际情况是怎样的？

就像存在一个临界点，一旦越过就——没错

然后开关就切换了。

.

..

基本上就像蓝屏一样——是的

差不多吧。

.

..

对于大脑算法来说。

于是开关一拨，你就进入了原始脑模式

你的前额皮质会在一定程度上关闭

我想，这样你就失去了决策和过滤的能力

在这种状态下你会变得非常爬虫脑化，这实际上是一种恐慌状态

因此，这是一种恐慌和战斗或逃跑反应，源于无法忍受当前的现实，也许情况已经令人非常沮丧，或者你一直处于混乱状态，或者经历了糟糕的旅行日，或工作中的争吵等等

这些累积到了临界点，某些事情终于触发你，导致大脑失去了适当调节行为的能力。

呃，那爱情和人际关系呢？

这方面有哪些挑战？

我知道有个节目叫《自闭症也有爱》——我听说过。

我没看过，但我听说过。

.

..

因为，呃，某些方面比如对事物的字面理解

恰恰让关系的复杂性，尤其是恋爱关系的复杂性更加明显了

在那个背景下。

你知道，我已经结婚 31 年，在一起 37 年了，

那是一段很长的历史，我们第一次意识到彼此非常不同是在

某个夜晚，我们坐在屋前的车里，天已经黑了，街对面有栋漂亮的房子，房子周围是用锚链连接的大砖柱，形成院子周围的围栏。

我看着这些东西，因为它们大约两英尺见方，还带着顶石，我心里想着

"我在想，它们是空心的还是后面填了东西

是灌了混凝土还是别的什么？

"这时我现在的妻子看着我，她的表情好像在说

"你怎么了？"

" "你脑子里怎么会有在意那种事的想法？"

"是的。"

太好了。

就在那一刻我们都明白了——我正热切地关注着这件事，而她却在困惑你为什么要为那种事操心。

我们知道自己截然不同，所以。

是啊，那些看似无关紧要的细节却非常具体。

但是，呃...

..

我向来不擅长与人相处。

..

当别人喜欢我时，我总是无法理解

我猜对了，所以我得到了。

..

我儿子也是这样，因为他们都是如此。

..

他们果然一脉相承，我还给他买了件 T 恤，上面写着

"如果你想追我，请明确告诉我，因为我完全不懂暗示。"

对我来说也是如此

我的意思是，我不得不长期存在并慢慢赢得人们的喜爱，因为我缺乏社交技巧，无法参与那些社交场合所需的舞蹈之类的活动，所以我唯一的选择就是做真实的自己，而这确实对某些人有效。

你是否能够说出类似"我不..."这样的话。

..

"

..

像是“我爱你”之类的话。

是的。

呃，我是说，她家人在表达这方面比我家人开放多了。

是的。

所以那段时间对我来说是成长阶段。

不过现在这对我来说完全不是问题。

好的。

好的。

但是，但这似乎并不重要，呃

这实际上能实现什么呢？

现在我们要做很多确认和检查工作。

比如，在过去几年里

我们之间有个默契，她会突然来一句

“你还好吗？”

我就回：“嗯。”

这背后其实有两层含义。

有那种“你还好吗？”的问候

然后就是我的回应

因为如果我回答“嗯...”她就能察觉不对劲

是的。

所以——这种来回试探总是存在，毕竟没法光靠看就读懂别人的心思

所以我们有这个明确的检查机制，我认为

我们——是的。

.

..

开发那个。

所以在"是的"和"嗯"之间存在着巨大的鸿沟。

嗯哼。

人类交流中那种微妙的感受又来了。

呃，你曾经写过那种体验

就是人们常说的那种感觉

"有点自闭症倾向"。

你能详细阐述一下这个概念吗？

是的，我认为很多人

大约 10%到 20%的人口，在某种程度上属于自闭症谱系

但受影响程度尚未达到障碍的标准。

但他们仍具有许多源于自闭症的特征。

我认为如果他们能够以最佳方式理解、识别并管理其中一些行为

他们就能既利用这些特征发挥某些技能优势，又能调解随之而来的缺陷和问题。

而我写这本书主要是为了我的孩子们，因为他们中没有人

据我所知，患有自闭症谱系障碍

但他们的某些行为特征与我特别相似

所以我想为他们写个小指南

嗯。

为什么你认为这么多程序员，比如优秀的

比如伟大的程序员和工程师，都属于自闭症谱系？

我认为是那种一心一意的专注力、将问题简化的能力，以及对事物本质永无止境的好奇心。

这已成为我毕生的执念

里面有什么。

我得把我妈妈的烤箱拆开，因为我想知道翻转时钟是怎么工作的。

嗯，我觉得如果你想成为一名程序员，这是个好习惯。

而且愿意、甚至兴奋地去深入了解细节。

是的。

是的。

呃，你有什么很酷的东西可以，呃

今年希望编程实现什么项目？

你在忙什么？

所以我们让强化学习算法学会了玩《暴风》游戏。

呃，顺便问一下，你那边进展到什么程度了？

比如到了哪个阶段，预计什么时候能成功并占据主导地位？

是说胜利在望吗？

嗯，已经非常接近成功了。

呃，我觉得现在是在调整模型大小和层数之类的参数，让它能突破那个学习阈值。

不过你知道的，这几千行 Lua 代码和几千行 Python 代码相互配合，运行得都挺好。

所以现在 95%的工作已经完成了

主要就是在调超参数，然后祈祷能有最好的效果。

从某种意义上说，这已经算是成功了

但现在的问题是，它究竟能走多远？

是的，我的目标是让它能够打败我。

# Chapter 11

比如到了哪个阶段，预计什么时候能成功并占据主导地位？

是说胜利在望吗？

嗯，已经非常接近成功了。

呃，我觉得现在是在调整模型大小和层数之类的参数，让它能突破那个学习阈值。

不过你知道的，这几千行 Lua 代码和几千行 Python 代码相互配合，运行得都挺好。

所以现在 95%的工作已经完成了

主要就是在调超参数，然后祈祷能有最好的效果。

从某种意义上说，这已经算是成功了

但现在的问题是，它究竟能走多远？

是的，我的目标是让它能够打败我。

这确实是个艰巨的挑战。

..

因为-确实如此，但现在很多游戏

你知道的，AI 玩得比人类还好

但可能还没达到这种复杂度的游戏

呃，你还在研究什么其他很酷的东西吗？

你今年希望打造些什么？

呃，PDP-11 相关的东西。

我正在尝试获取一个叫做 RA82 的驱动器。

就是那个 14 英寸的大家伙，转速能达到 3

600 转每分钟，听起来像台洗衣机。

然后我会找到控制器卡，编写代码，集成到驱动程序中，并尝试让这一切正常运行。

呃，你想在上面运行什么样的代码？

我得让驱动堆栈正常工作

所以我需要将其驱动程序集成到内核中。

你最近组装了一台内存高达 1TB 的机器。

呃，这是怎么做到的？为什么要这么配置？

呃...我们有个叫 GitHub Primes 的项目。

如果你直接搜索 GitHub Primes，你会

找到它，它就是 GitHub Primes。

.

..

这是一套用大约 100 种不同语言实现的素数算法集合。

所以这是完全相同的算法，我们要求你遵守特定规则以保证公平性。

嗯哼。

然后你尽己所能地用选择的语言来表达这个算法。

我们每晚都进行基准测试，汇总结果并找出哪些语言运行最快。

是这个吗？

是的。

哦，所以这个，呃，对的

明白了。

..

你正在用这个做什么？

是的。

哦，所以-所以-

..

这台机器运行那些测试吗？

是的。

好的。

你得跟我讲讲这个项目。

这是一个史诗级的项目。

所以你是在比较不同编程语言的性能。

在所有这些语言中。

它们都被构建到独立的 Docker 容器中

然后它们就都运行起来了。

这——这真是个了不起的项目。

这真的非常非常酷。

它实际上是在测量不同语言的性能表现。

那又怎样，你了解到哪些编程语言了？

呃，比如谁，哪种语言通常会胜出？

Zig，我觉得目前是它。

Zig。

确实，情况会变化。

人们会对 C++进行改进

然后会平静一段时间，接着 Zig 的支持者们会不满并卷土重来，让它变得更快。

那么 Zig、Rust、C++、C 的排序是？

是的。

运行的是哪种代码？

他们试图运行哪段代码来测量性能？

他们的做法是在一个五秒循环内，尽可能多次地求解一亿以内的质数。

所以这是一个循环。

明白了。

一遍又一遍，反复不停。

是的，所有核心都是。

所以呢？所有 CPU 上都是。

.

..

这个程序是怎么编写的呢？

编写方式会有不同吗？

不算。

你可以自由实现，但必须是个素数筛算法。

最多允许每个整数使用一个比特位。

所以你无法使用更便宜且更简单的字节。

嗯哼。

嗯，有一系列这样的规则要求你必须在定时循环内分配内存。

因此我们有一套规则，同时也有

呃，一些不遵循规则的解决方案，比如 6502 处理器，因为它只有 64K 内存。

你无法完成 1 亿次筛选。

因此，我们有很多这样的解决方案作为展示项目运行。

但在主要语言中，它们都遵循相同的规则。

所以实际上应该只是算法在该语言中的表达方式。

它们中的许多使用相同的后端编译器

所以这实际上取决于你如何表达以及该语言的限制或优势。

呃，每种语言允许多次提交吗？

是的。

是的。

所以如果你查看 C 语言的

大概有五个吧，我想。

好的。

它们...它们中有些可能使用不同的编译器吧？

是的。

有的是 GCC，有的是 Clang，LLVM。

我正在看几年前的快照数据。

Zig 位居榜首，其次是 Rust

然后是 Nim 和 Haskell

哦不，这个排序并不是

呃，按速度慢来排的？还是说就是？

是的。

这样 C 就等于 1。

比 Zig 长 5 倍。

哇。

好的，真有意思。

这是个非常棒的项目。

是啊，我们还有像 PowerShell 这种疯狂的语言。

有 PowerShell 的版本之类的工具

所以...

..

所以这个流程是自动化的，比如在组织管理方面

像是提交操作的处理方式

它是有结构的。

这很酷。

是的，有两个人在那边，呃

欧洲那边，呃，Rucker 和 Tudor，现在基本上拥有这个。

最初我只支持三种语言。

我实现了 Python、C#和 C++的版本。

我提交了代码并发布了这一集。

随后人们开始提交更多解决方案

结果事情就失控了。

所以我不得不找人专门管理那个项目

他们帮我做得非常出色。

编程和构建项目时，最让你感到快乐的时刻是什么？

你最喜欢什么？

对我来说，最有意思的是当我构建了一个复杂的东西，并且已经想好了它应该如何运作

然后我运行它，它确实按照预期工作了。

嗯哼。

这带来了极大的满足感。

看到结果如我所计划的那样呈现并成功运行

因为这很少能一次就成功，但是。

..

是的。

或者说如果真的一次就成功了——不，我从不相信这种情况。

我总觉得自己遗漏了什么。

确实如此。

呃，但是，你知道，对于像

嗯，呃，C++ 这样的编译型语言，这种感觉总是挺好的。

你写一大堆代码然后编译

所有代码都能无警告、无错误地编译通过。

这种感觉很棒。

嗯，你-你认为编程的未来会是什么样子？

所以现在，我不知道你实际体验了多少这种影响

嗯，具备代码生成能力的 LLMs

你经常用 Cursor 吗？或者说用过很多次吗？

Cursor VS Code，那个，呃，带-带-带代码生成功能的？

是啊，这方面我做过大量实践

呃，Python 方面，因为我对 Python 不太在行，算是刚入门。

所以，嗯，我觉得它非常有用，因为通过观察它生成的代码，我学到了很多——尤其是当我不懂如何实现某些功能时。

因为如果让我从零开始写 Python 代码

写出来的长度大概是 AI 生成代码的四倍

因为如果你精通 Python 的话，代码可以写得很简洁。

哦，那很酷啊。

所以你是专门为这个项目学的 Python？

是的。

这真是个不错的案例研究，展示了

就像一位优秀的 C++程序员，能快速掌握一门新语言。

是啊，我正在凭感觉摸索着写代码

我想是吧。

靠感觉摸索着写代码。

我是说，这确实是学习语言的绝佳应用场景

如果你已经是个不错的程序员，可以通过这种方式学习

呃，一门新语言或者一种新

呃，通过生成代码来解决问题的思路

因为你已经。

..

你大概能看懂它生成的 Python 代码。

是的。

比如，不用真的去查任何语法。

是啊，一旦看到就都一目了然了。

不过，你知道的，从零开始创造还是有些不同的

所以...

..

是啊，呃，但要想那样使用它，你还是得学会怎么编程才行

哦，还要能读懂代码，知道接下来该让它做什么之类的

是的。

我觉得如果你是个完全没编过程序的新手，光靠感觉是写不出代码的

但如果你是个优秀的程序员，AI 能让你变得无比强大。

你认为编程的未来会怎样

比如 5 年、10 年、20 年后

这整个发展过程？

N-现在，"氛围编程"更像是个有趣的梗，因为你终究还是得...

..

呃，那些不懂编程却只搞氛围编程的人，几乎全都在开发无法投入生产环境的系统。

他们确实不行。

..

你做不到的。

..

这非常——没错。

.

.

要开发一个产——呃，产品确实很难。

呃，那些已经是优秀程序员的人基本上能凭直觉写出符合你需求的代码。

他们基本上就是这样的。

..

这不过是个花哨的自动补全功能，最终还得手动编辑

或者是学习新 API、新语言或其他新东西的一种方式

嗯，一个针对特定用途的新用例，可能是

某种不同的图形界面组件之类的东西

但随着它们变得越来越智能，我们不知道上限在哪里。

这可能会改变程序员这一职业的本质。

那么，呃，你有考虑过这个问题吗？

我同意。

我认为。

..

我不想说是提示词工程师，但我觉得未来可能会类似这种情况——就像如果你是建造桥梁的建筑师

曾经，工人们需要在现场焊接钢梁

但现在你只需在 AutoCAD 中拖拽元素，用预制的大型构件进行组装

我认为编程也会变成这样

你不再需要逐行编写代码

你将通过移动组件和界面，并向 AI 描述这些交互应该如何进行

然后让它来构建这些组件。

但我认为距离它能完全自主生成还有相当长的路要走。

..

你无法直接说："给我一个与 Linux 兼容的 Linux 内核"。

终有一天，我们能够做到，而且会高效实现

但目前还未能达到

我们如此快速地攀升抽象层级，这让你感到失落吗？

就像你，一个曾经编写机器码和汇编语言的人

然后到了 C 和 C++，我们正逐渐达到能用自然语言进行直觉编码的阶段。

是的，我算是赶上了特别幸运的时代

我想这是因为我必须经历 30 到 40 年技术发展的全过程。

所以我既懂 TTL 逻辑电路，也能用 AI 来编写代码

而且我大概知道中间的各个环节。

我的知识中确实存在一些空白。

但我认为，要获得那种程度的知识或完整的图景，唯一的方法就是长期沉浸其中。

是的。

对于现在刚开始的人来说，要复制这种经验将会很困难。

你觉得这一切的意义是什么

呃，关于生命的存在，关于这里发生的一切？

创造很酷的东西。

我想，从根本上说，我在乎的是能够创造出对他人有用的复杂事物

《沉浸式翻译》充分发挥了我的能力，让我能够以创造性的方式开发出可供他人使用的工具。这种创作自由度，若仅限于绘画或雕塑等传统艺术形式，是难以企及的

在古典艺术方面，我毫无天赋。

对我来说，这就是生命真正的意义。

然后，也许你培养了几个优秀的孩子来传递接力棒。

是的。

而你这一生创造了不少很酷的东西

影响了数百万人，甚至可能是数十亿人。

如今你正在激励着更多人。

..

你在 YouTube 上创作精彩内容供大家观赏，正以这种方式激励着人们。

因此，对你过去所做的一切以及现在正在做的一切

我非- 我是你的超级粉丝。

我真的很感激- 太棒了。

.

..

感谢你所做的一切，也很高兴我们今天有机会交流。

谢谢你，兄弟。

谢谢。

感谢收听与 Dave Plummer 的这次对话。

如需支持本播客，请查看简介中的赞助商信息。

现在，让我用 C++之父比雅尼·斯特劳斯特鲁普的话作为结束

顺便说一句，这位正是

我在很久很久以前采访过的人物

播客第 48 期的嘉宾。

他说："世界上只有两种语言：一种是被人抱怨的，另一种是没人使用的。"

"感谢您的聆听，期待下次再见。"

